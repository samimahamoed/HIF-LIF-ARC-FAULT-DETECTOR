<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.8"/>
<title>AQ0X: algorithm.c File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="../../a_logo_doxy.bmp"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">AQ0X
   &#160;<span id="projectnumber">V0.0</span>
   </div>
   <div id="projectbrief">AQ0X SENSOR FW</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.8 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="../../annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="../../files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../files.html"><span>File&#160;List</span></a></li>
      <li><a href="../../globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('d8/d41/a00038.html','../../');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">algorithm.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="../../db/d3a/a00040_source.html">..\..\includes\allheaders.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d7/d7a/a00016_source.html">..\..\includes_prv\aq0X\algorithm_prv.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../db/df3/a00034_source.html">..\..\includes_prv\aq0X\srv_hwio_prv.h</a>&quot;</code><br />
<code>#include &quot;dsp.h&quot;</code><br />
<code>#include &lt;string.h&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for algorithm.c:</div>
<div class="dyncontent">
<div class="center"><img src="../../d2/dac/a00876.png" border="0" usemap="#algorithm_8c" alt=""/></div>
<map name="algorithm_8c" id="algorithm_8c">
<area shape="rect" id="node2" href="../../db/d3a/a00040.html" title="All project header files together so modules can include just this one. " alt="" coords="681,87,849,114"/><area shape="rect" id="node19" href="../../d7/d7a/a00016.html" title="Private Algorithm module header file. " alt="" coords="873,80,1019,121"/><area shape="rect" id="node20" href="../../db/df3/a00034.html" title="..\\..\\includes_prv\l\\aq0X\\srv_hwio_prv.h" alt="" coords="1043,80,1185,121"/><area shape="rect" id="node10" href="../../dd/d1b/a00015.html" title="p33EP128MC202.h" alt="" coords="645,169,780,196"/><area shape="rect" id="node11" href="../../d6/d2c/a00072.html" title="Generic project defines ( data types, basic hardware setting) " alt="" coords="1105,244,1184,271"/><area shape="rect" id="node12" href="../../dc/ddf/a00067.html" title="File with support for watchdog( for release version) and watchdog tunning (debug/release) ..." alt="" coords="856,169,967,196"/><area shape="rect" id="node13" href="../../de/d8c/a00036.html" title="OS header file. " alt="" coords="991,169,1090,196"/><area shape="rect" id="node14" href="../../d0/dc0/a00033.html" title="Few useful generic macros. " alt="" coords="1114,169,1175,196"/><area shape="rect" id="node15" href="../../d7/de0/a00022.html" title="Header for low level NOV support. " alt="" coords="1200,169,1284,196"/><area shape="rect" id="node16" href="../../df/d61/a00031.html" title="Header for serial port driver. " alt="" coords="1308,169,1395,196"/><area shape="rect" id="node17" href="../../d5/d16/a00029.html" title="Header for low level NOV support. " alt="" coords="1419,169,1494,196"/><area shape="rect" id="node18" href="../../d7/dd4/a00013.html" title="Header for spi port driver. " alt="" coords="1519,169,1592,196"/></map>
</div>
</div>
<p><a href="../../d8/d41/a00038_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ac8ba8f308052e254ac745ae76f44d766"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d41/a00038.html#ac8ba8f308052e254ac745ae76f44d766">NETIVE_ARITHMETIC</a>&#160;&#160;&#160;1</td></tr>
<tr class="separator:ac8ba8f308052e254ac745ae76f44d766"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ac02222eba93356b04a6327ffcf82b5cf"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d2c/a00072.html#a87d38f886e617ced2698fc55afa07637">Float32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d41/a00038.html#ac02222eba93356b04a6327ffcf82b5cf">algorithm_get_mean</a> (<a class="el" href="../../d6/d2c/a00072.html#a59a9f6be4562c327cbfb4f7e8e18f08b">Uint16</a> *vector, <a class="el" href="../../d6/d2c/a00072.html#a59a9f6be4562c327cbfb4f7e8e18f08b">Uint16</a> SIZE)</td></tr>
<tr class="memdesc:ac02222eba93356b04a6327ffcf82b5cf"><td class="mdescLeft">&#160;</td><td class="mdescRight">calculates mean value  <a href="#ac02222eba93356b04a6327ffcf82b5cf">More...</a><br /></td></tr>
<tr class="separator:ac02222eba93356b04a6327ffcf82b5cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc24892209555236c0000b91cfc8ab15"><td class="memItemLeft" align="right" valign="top">int meanVal&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d41/a00038.html#afc24892209555236c0000b91cfc8ab15">__attribute__</a> ((space(ymemory), far()))</td></tr>
<tr class="memdesc:afc24892209555236c0000b91cfc8ab15"><td class="mdescLeft">&#160;</td><td class="mdescRight">calculates the standard deviation of the vector  <a href="#afc24892209555236c0000b91cfc8ab15">More...</a><br /></td></tr>
<tr class="separator:afc24892209555236c0000b91cfc8ab15"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97eb6437dda088f144d791e49cd3dc2a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d2c/a00072.html#a87d38f886e617ced2698fc55afa07637">Float32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d41/a00038.html#a97eb6437dda088f144d791e49cd3dc2a">algorithm_get_std_deviation</a> (<a class="el" href="../../d6/d2c/a00072.html#a59a9f6be4562c327cbfb4f7e8e18f08b">Uint16</a> *vector, <a class="el" href="../../d6/d2c/a00072.html#a87d38f886e617ced2698fc55afa07637">Float32</a> mean_val, <a class="el" href="../../d6/d2c/a00072.html#a59a9f6be4562c327cbfb4f7e8e18f08b">Uint16</a> SIZE)</td></tr>
<tr class="separator:a97eb6437dda088f144d791e49cd3dc2a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2925c58a9c3f5d3c957eaca9a95a6c3a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d2c/a00072.html#a253b248072cfc8bd812c69acd0046eed">Bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d41/a00038.html#a2925c58a9c3f5d3c957eaca9a95a6c3a">algorithm_signal_proportionality</a> (<a class="el" href="../../d6/d2c/a00072.html#a59a9f6be4562c327cbfb4f7e8e18f08b">Uint16</a> *vector1, <a class="el" href="../../d6/d2c/a00072.html#a59a9f6be4562c327cbfb4f7e8e18f08b">Uint16</a> *vector2, <a class="el" href="../../d6/d2c/a00072.html#a59a9f6be4562c327cbfb4f7e8e18f08b">Uint16</a> SIZE)</td></tr>
<tr class="memdesc:a2925c58a9c3f5d3c957eaca9a95a6c3a"><td class="mdescLeft">&#160;</td><td class="mdescRight">The function calculate the relation between the given vectors and standard deviation of the resulting vector to determine the similarity between the two signals.  <a href="#a2925c58a9c3f5d3c957eaca9a95a6c3a">More...</a><br /></td></tr>
<tr class="separator:a2925c58a9c3f5d3c957eaca9a95a6c3a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab898d2d804c49cb0978d26f6af64e0e4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d41/a00038.html#ab898d2d804c49cb0978d26f6af64e0e4">algorithm_sv_scan_timer_init</a> (void)</td></tr>
<tr class="memdesc:ab898d2d804c49cb0978d26f6af64e0e4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Low level analog.  <a href="#ab898d2d804c49cb0978d26f6af64e0e4">More...</a><br /></td></tr>
<tr class="separator:ab898d2d804c49cb0978d26f6af64e0e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42ed16c7ef20e0c0031fe7ba7ae377b3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d41/a00038.html#a42ed16c7ef20e0c0031fe7ba7ae377b3">algorithm_wake</a> (<a class="el" href="../../d6/d2c/a00072.html#af84840501dec18061d18a68c162a8fa2">Uint8</a> event)</td></tr>
<tr class="memdesc:a42ed16c7ef20e0c0031fe7ba7ae377b3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Main processing loop for algorithm module.  <a href="#a42ed16c7ef20e0c0031fe7ba7ae377b3">More...</a><br /></td></tr>
<tr class="separator:a42ed16c7ef20e0c0031fe7ba7ae377b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a126f3d78a95341a19a3e862e57357952"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d41/a00038.html#a126f3d78a95341a19a3e862e57357952">msg_to_mem</a> (void *dest, <a class="el" href="../../d6/d2c/a00072.html#af84840501dec18061d18a68c162a8fa2">Uint8</a> *msg, <a class="el" href="../../d6/d2c/a00072.html#a59a9f6be4562c327cbfb4f7e8e18f08b">Uint16</a> size, <a class="el" href="../../d6/d2c/a00072.html#af84840501dec18061d18a68c162a8fa2">Uint8</a> base)</td></tr>
<tr class="memdesc:a126f3d78a95341a19a3e862e57357952"><td class="mdescLeft">&#160;</td><td class="mdescRight">copy serially received data to given memory address  <a href="#a126f3d78a95341a19a3e862e57357952">More...</a><br /></td></tr>
<tr class="separator:a126f3d78a95341a19a3e862e57357952"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d182ae18a9176c2a1e28cc654dc0e43"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d41/a00038.html#a1d182ae18a9176c2a1e28cc654dc0e43">algorithm_taskx</a> (<a class="el" href="../../de/d8c/a00036.html#de/d37/a00849">x_event</a> *event)</td></tr>
<tr class="memdesc:a1d182ae18a9176c2a1e28cc654dc0e43"><td class="mdescLeft">&#160;</td><td class="mdescRight">Algorithm task function.  <a href="#a1d182ae18a9176c2a1e28cc654dc0e43">More...</a><br /></td></tr>
<tr class="separator:a1d182ae18a9176c2a1e28cc654dc0e43"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93269cdec3e21934aa9395440a2de605"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d41/a00038.html#a93269cdec3e21934aa9395440a2de605">algorithm_notifyx</a> (<a class="el" href="../../de/d8c/a00036.html#df/d4c/a00851">x_notify</a> *notify)</td></tr>
<tr class="memdesc:a93269cdec3e21934aa9395440a2de605"><td class="mdescLeft">&#160;</td><td class="mdescRight">Algorithm module notification function.  <a href="#a93269cdec3e21934aa9395440a2de605">More...</a><br /></td></tr>
<tr class="separator:a93269cdec3e21934aa9395440a2de605"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a85471d58eae93d5d7e7e2b52e2b915d3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d41/a00038.html#a85471d58eae93d5d7e7e2b52e2b915d3">algorithm_message_arrived_ntf_isr</a> (<a class="el" href="../../d6/d2c/a00072.html#a59a9f6be4562c327cbfb4f7e8e18f08b">Uint16</a> id)</td></tr>
<tr class="memdesc:a85471d58eae93d5d7e7e2b52e2b915d3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Causes that system will send notification to the module as this cannot be done directly because the function is called from interrupt.  <a href="#a85471d58eae93d5d7e7e2b52e2b915d3">More...</a><br /></td></tr>
<tr class="separator:a85471d58eae93d5d7e7e2b52e2b915d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a183caa40cd01e79ee309cc9c4a225197"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d7/d7a/a00016.html#d1/d84/a00097">algorithm_data_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d41/a00038.html#a183caa40cd01e79ee309cc9c4a225197">algorithm_data</a></td></tr>
<tr class="separator:a183caa40cd01e79ee309cc9c4a225197"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff3e3d622fcd96787628167d3c1856f9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../de/d8c/a00036.html#ad5c3c5fbfd3e4aadf22830395484a71d">x_task_id</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d41/a00038.html#aff3e3d622fcd96787628167d3c1856f9">algorithm_id</a></td></tr>
<tr class="memdesc:aff3e3d622fcd96787628167d3c1856f9"><td class="mdescLeft">&#160;</td><td class="mdescRight">ALgorithm module handle.  <a href="#aff3e3d622fcd96787628167d3c1856f9">More...</a><br /></td></tr>
<tr class="separator:aff3e3d622fcd96787628167d3c1856f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e89c46668b39a17753c238950c9e1ec"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../de/d11/a00021.html#d6/da3/a00589">logv_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d41/a00038.html#a2e89c46668b39a17753c238950c9e1ec">logv</a></td></tr>
<tr class="separator:a2e89c46668b39a17753c238950c9e1ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="ac8ba8f308052e254ac745ae76f44d766"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NETIVE_ARITHMETIC&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d8/d41/a00038_source.html#l00027">27</a> of file <a class="el" href="../../d8/d41/a00038_source.html">algorithm.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="afc24892209555236c0000b91cfc8ab15"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int meanVal __attribute__ </td>
          <td>(</td>
          <td class="paramtype">(space(ymemory), far())&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>calculates the standard deviation of the vector </p>

</div>
</div>
<a class="anchor" id="ac02222eba93356b04a6327ffcf82b5cf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d2c/a00072.html#a87d38f886e617ced2698fc55afa07637">Float32</a> algorithm_get_mean </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d6/d2c/a00072.html#a59a9f6be4562c327cbfb4f7e8e18f08b">Uint16</a> *&#160;</td>
          <td class="paramname"><em>vector</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/d2c/a00072.html#a59a9f6be4562c327cbfb4f7e8e18f08b">Uint16</a>&#160;</td>
          <td class="paramname"><em>SIZE</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>calculates mean value </p>

<p>Definition at line <a class="el" href="../../d8/d41/a00038_source.html#l00047">47</a> of file <a class="el" href="../../d8/d41/a00038_source.html">algorithm.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;{</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;    </div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    </div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;    <span class="keyword">register</span> <span class="keywordtype">int</span> result <span class="keyword">asm</span>(<span class="stringliteral">&quot;A&quot;</span>);</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    result = __builtin_clr();</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    <a class="code" href="../../d6/d2c/a00072.html#a659ce9e5eb6571f9984ffc7caad2660a">Int16</a> cc;</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    <span class="keywordflow">for</span>(cc = 0;cc&lt;SIZE;cc++)</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;        result = __builtin_add(result,*(vector+cc),0);</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160; </div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    cc = __builtin_sac(result,0);</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    </div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    <a class="code" href="../../d6/d2c/a00072.html#a87d38f886e617ced2698fc55afa07637">Float32</a> mean_val = (<a class="code" href="../../d6/d2c/a00072.html#a87d38f886e617ced2698fc55afa07637">Float32</a>)cc/(<a class="code" href="../../d6/d2c/a00072.html#a87d38f886e617ced2698fc55afa07637">Float32</a>)SIZE ;</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    </div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    <span class="keywordflow">return</span>  (mean_val);</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;}</div>
<div class="ttc" id="a00072_html_a659ce9e5eb6571f9984ffc7caad2660a"><div class="ttname"><a href="../../d6/d2c/a00072.html#a659ce9e5eb6571f9984ffc7caad2660a">Int16</a></div><div class="ttdeci">signed int Int16</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d2c/a00072_source.html#l00047">System.h:47</a></div></div>
<div class="ttc" id="a00072_html_a87d38f886e617ced2698fc55afa07637"><div class="ttname"><a href="../../d6/d2c/a00072.html#a87d38f886e617ced2698fc55afa07637">Float32</a></div><div class="ttdeci">float Float32</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d2c/a00072_source.html#l00045">System.h:45</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a97eb6437dda088f144d791e49cd3dc2a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d2c/a00072.html#a87d38f886e617ced2698fc55afa07637">Float32</a> algorithm_get_std_deviation </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d6/d2c/a00072.html#a59a9f6be4562c327cbfb4f7e8e18f08b">Uint16</a> *&#160;</td>
          <td class="paramname"><em>vector</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/d2c/a00072.html#a87d38f886e617ced2698fc55afa07637">Float32</a>&#160;</td>
          <td class="paramname"><em>mean_val</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/d2c/a00072.html#a59a9f6be4562c327cbfb4f7e8e18f08b">Uint16</a>&#160;</td>
          <td class="paramname"><em>SIZE</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d8/d41/a00038_source.html#l00096">96</a> of file <a class="el" href="../../d8/d41/a00038_source.html">algorithm.c</a>.</p>

<p>Referenced by <a class="el" href="../../d9/d73/a00060_source.html#l00760">nov_set_default()</a>.</p>
<div class="fragment"><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;{</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    <a class="code" href="../../d6/d2c/a00072.html#a59a9f6be4562c327cbfb4f7e8e18f08b">Uint16</a> cc;</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    fractional *vect                = (fractional *)vector;</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    fractional  uval                = (fractional)(mean_val);</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    <a class="code" href="../../d6/d2c/a00072.html#a659ce9e5eb6571f9984ffc7caad2660a">Int16</a>  tmp                      = 0;</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    <a class="code" href="../../d6/d2c/a00072.html#a184d0ff2424cf4b81c68ce9538481a04">Int32</a>  variance                 = 0;</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;  </div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    <span class="keywordflow">for</span>(cc = 0;cc &lt; SIZE ; cc++){</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;          tmp       = ((*(vect+cc)) - uval);</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;          variance += __builtin_mulss(tmp,tmp);</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    }</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    <a class="code" href="../../d6/d2c/a00072.html#a87d38f886e617ced2698fc55afa07637">Float32</a> result =  sqrt(((<a class="code" href="../../d6/d2c/a00072.html#a87d38f886e617ced2698fc55afa07637">Float32</a>)variance)/((<a class="code" href="../../d6/d2c/a00072.html#a87d38f886e617ced2698fc55afa07637">Float32</a>)SIZE));</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;  </div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    <span class="keywordflow">return</span> result;</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;}</div>
<div class="ttc" id="a00072_html_a59a9f6be4562c327cbfb4f7e8e18f08b"><div class="ttname"><a href="../../d6/d2c/a00072.html#a59a9f6be4562c327cbfb4f7e8e18f08b">Uint16</a></div><div class="ttdeci">unsigned int Uint16</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d2c/a00072_source.html#l00041">System.h:41</a></div></div>
<div class="ttc" id="a00072_html_a659ce9e5eb6571f9984ffc7caad2660a"><div class="ttname"><a href="../../d6/d2c/a00072.html#a659ce9e5eb6571f9984ffc7caad2660a">Int16</a></div><div class="ttdeci">signed int Int16</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d2c/a00072_source.html#l00047">System.h:47</a></div></div>
<div class="ttc" id="a00072_html_a87d38f886e617ced2698fc55afa07637"><div class="ttname"><a href="../../d6/d2c/a00072.html#a87d38f886e617ced2698fc55afa07637">Float32</a></div><div class="ttdeci">float Float32</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d2c/a00072_source.html#l00045">System.h:45</a></div></div>
<div class="ttc" id="a00072_html_a184d0ff2424cf4b81c68ce9538481a04"><div class="ttname"><a href="../../d6/d2c/a00072.html#a184d0ff2424cf4b81c68ce9538481a04">Int32</a></div><div class="ttdeci">signed long Int32</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d2c/a00072_source.html#l00048">System.h:48</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d8/d41/a00038_a97eb6437dda088f144d791e49cd3dc2a_icgraph.png" border="0" usemap="#d8/d41/a00038_a97eb6437dda088f144d791e49cd3dc2a_icgraph" alt=""/></div>
<map name="d8/d41/a00038_a97eb6437dda088f144d791e49cd3dc2a_icgraph" id="d8/d41/a00038_a97eb6437dda088f144d791e49cd3dc2a_icgraph">
<area shape="rect" id="node2" href="../../d9/d73/a00060.html#ada4ee53cb163a9ed3e2b4a5c7192690a" title="Updates internal structures with default factory settings. " alt="" coords="236,5,347,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a85471d58eae93d5d7e7e2b52e2b915d3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void algorithm_message_arrived_ntf_isr </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d6/d2c/a00072.html#a59a9f6be4562c327cbfb4f7e8e18f08b">Uint16</a>&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Causes that system will send notification to the module as this cannot be done directly because the function is called from interrupt. </p>

<p>Definition at line <a class="el" href="../../d8/d41/a00038_source.html#l02104">2104</a> of file <a class="el" href="../../d8/d41/a00038_source.html">algorithm.c</a>.</p>

<p>References <a class="el" href="../../d8/d41/a00038_source.html#l00034">algorithm_id</a>, <a class="el" href="../../d7/d7a/a00016.html#a1aafd556b3c9ed3e5295b17dbd80cab8">algorithm_data_t::irq_src</a>, and <a class="el" href="../../d1/dc6/a00037_source.html#l00521">x_task_send_irq_sync()</a>.</p>

<p>Referenced by <a class="el" href="../../d5/d79/a00030_source.html#l00658">__attribute__()</a>, and <a class="el" href="../../d8/d41/a00038_source.html#l00670">algorithm_wake()</a>.</p>
<div class="fragment"><div class="line"><a name="l02105"></a><span class="lineno"> 2105</span>&#160;{</div>
<div class="line"><a name="l02106"></a><span class="lineno"> 2106</span>&#160;    <span class="keywordflow">if</span>(<span class="keywordtype">id</span>==0)</div>
<div class="line"><a name="l02107"></a><span class="lineno"> 2107</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02108"></a><span class="lineno"> 2108</span>&#160;    <span class="keywordflow">if</span>((0x00FF&amp;<span class="keywordtype">id</span>)!=0)</div>
<div class="line"><a name="l02109"></a><span class="lineno"> 2109</span>&#160;    <a class="code" href="../../d8/d41/a00038.html#a183caa40cd01e79ee309cc9c4a225197">algorithm_data</a>.<a class="code" href="../../d7/d7a/a00016.html#a1aafd556b3c9ed3e5295b17dbd80cab8">irq_src</a>.fields.external = (0x00FF&amp;id);</div>
<div class="line"><a name="l02110"></a><span class="lineno"> 2110</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span>(((0xFF00&amp;<span class="keywordtype">id</span>)&gt;&gt;8)!=0)</div>
<div class="line"><a name="l02111"></a><span class="lineno"> 2111</span>&#160;    <a class="code" href="../../d8/d41/a00038.html#a183caa40cd01e79ee309cc9c4a225197">algorithm_data</a>.<a class="code" href="../../d7/d7a/a00016.html#a1aafd556b3c9ed3e5295b17dbd80cab8">irq_src</a>.fields.internal = ((0xFF00&amp;<span class="keywordtype">id</span>)&gt;&gt;8);</div>
<div class="line"><a name="l02112"></a><span class="lineno"> 2112</span>&#160;    <a class="code" href="../../de/d8c/a00036.html#a9953756bc7c83e5f2c36830396136e75">x_task_send_irq_sync</a>(<a class="code" href="../../d8/d41/a00038.html#aff3e3d622fcd96787628167d3c1856f9">algorithm_id</a>);</div>
<div class="line"><a name="l02113"></a><span class="lineno"> 2113</span>&#160;}</div>
<div class="ttc" id="a00038_html_aff3e3d622fcd96787628167d3c1856f9"><div class="ttname"><a href="../../d8/d41/a00038.html#aff3e3d622fcd96787628167d3c1856f9">algorithm_id</a></div><div class="ttdeci">x_task_id algorithm_id</div><div class="ttdoc">ALgorithm module handle. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d41/a00038_source.html#l00034">algorithm.c:34</a></div></div>
<div class="ttc" id="a00016_html_a1aafd556b3c9ed3e5295b17dbd80cab8"><div class="ttname"><a href="../../d7/d7a/a00016.html#a1aafd556b3c9ed3e5295b17dbd80cab8">algorithm_data_t::irq_src</a></div><div class="ttdeci">union algorithm_data_t::@2022 irq_src</div></div>
<div class="ttc" id="a00038_html_a183caa40cd01e79ee309cc9c4a225197"><div class="ttname"><a href="../../d8/d41/a00038.html#a183caa40cd01e79ee309cc9c4a225197">algorithm_data</a></div><div class="ttdeci">algorithm_data_t algorithm_data</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d41/a00038_source.html#l00033">algorithm.c:33</a></div></div>
<div class="ttc" id="a00036_html_a9953756bc7c83e5f2c36830396136e75"><div class="ttname"><a href="../../de/d8c/a00036.html#a9953756bc7c83e5f2c36830396136e75">x_task_send_irq_sync</a></div><div class="ttdeci">void x_task_send_irq_sync(x_task_id task_id)</div><div class="ttdoc">OS interrupt notification timer. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dc6/a00037_source.html#l00521">sys_eventx.c:521</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d8/d41/a00038_a85471d58eae93d5d7e7e2b52e2b915d3_cgraph.png" border="0" usemap="#d8/d41/a00038_a85471d58eae93d5d7e7e2b52e2b915d3_cgraph" alt=""/></div>
<map name="d8/d41/a00038_a85471d58eae93d5d7e7e2b52e2b915d3_cgraph" id="d8/d41/a00038_a85471d58eae93d5d7e7e2b52e2b915d3_cgraph">
<area shape="rect" id="node2" href="../../de/d8c/a00036.html#a9953756bc7c83e5f2c36830396136e75" title="OS interrupt notification timer. " alt="" coords="232,13,384,39"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d8/d41/a00038_a85471d58eae93d5d7e7e2b52e2b915d3_icgraph.png" border="0" usemap="#d8/d41/a00038_a85471d58eae93d5d7e7e2b52e2b915d3_icgraph" alt=""/></div>
<map name="d8/d41/a00038_a85471d58eae93d5d7e7e2b52e2b915d3_icgraph" id="d8/d41/a00038_a85471d58eae93d5d7e7e2b52e2b915d3_icgraph">
<area shape="rect" id="node2" href="../../d5/d79/a00030.html#a2068c3c2584547dbc1c8b9bca2d55b18" title="Serial port receive interrupt. " alt="" coords="239,5,337,32"/><area shape="rect" id="node3" href="../../d8/d41/a00038.html#a42ed16c7ef20e0c0031fe7ba7ae377b3" title="Main processing loop for algorithm module. " alt="" coords="232,56,344,83"/><area shape="rect" id="node4" href="../../d8/d41/a00038.html#a93269cdec3e21934aa9395440a2de605" title="Algorithm module notification function. " alt="" coords="392,31,512,57"/><area shape="rect" id="node6" href="../../dd/d32/a00041.html#a2068c3c2584547dbc1c8b9bca2d55b18" title="Fast timer interrupt to scan sensor element analog values. " alt="" coords="403,81,501,108"/><area shape="rect" id="node5" href="../../d4/dca/a00048.html#a840291bc02cba5474a4cb46a9b9566fe" title="System startup function. " alt="" coords="560,31,611,57"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a93269cdec3e21934aa9395440a2de605"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void algorithm_notifyx </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../de/d8c/a00036.html#df/d4c/a00851">x_notify</a> *&#160;</td>
          <td class="paramname"><em>notify</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Algorithm module notification function. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">notify</td><td>- system distributed notification</td></tr>
  </table>
  </dd>
</dl>
<p>Services initialization notifications. Collects notifications from all other modules and internal OS timers (data is copied to internal data structures). Such operation triggers sending wake event to main task to process notification data. </p>

<p>Definition at line <a class="el" href="../../d8/d41/a00038_source.html#l02006">2006</a> of file <a class="el" href="../../d8/d41/a00038_source.html">algorithm.c</a>.</p>

<p>References <a class="el" href="../../d8/d41/a00038_source.html#l00670">algorithm_wake()</a>, <a class="el" href="../../d6/d2c/a00072_source.html#l00059">ASSERT</a>, <a class="el" href="../../d9/d73/a00060_source.html#l00016">data_non_volatile</a>, <a class="el" href="../../de/d8c/a00036_source.html#l00075">x_notify::message</a>, <a class="el" href="../../de/d11/a00021.html#a13393a2d1589483b3bae4d2e79f43980">x_notify_module_sv_status_report_t::message</a>, <a class="el" href="../../d7/d7a/a00016_source.html#l00079">algorithm_data_t::wake_event</a>, <a class="el" href="../../de/d11/a00021_source.html#l00181">X_NTF_ALG_ANALOG_SUPPLY_ALERT</a>, <a class="el" href="../../de/d8c/a00036_source.html#l00030">X_NTF_INIT</a>, <a class="el" href="../../de/d11/a00021_source.html#l00156">X_NTF_IR_SENSOR_SV_ALART</a>, <a class="el" href="../../de/d11/a00021_source.html#l00159">X_NTF_LIGHT_SENSOR_SV_ALART</a>, <a class="el" href="../../de/d11/a00021_source.html#l00162">X_NTF_MFIELD_X_SENSOR_SV_ALART</a>, <a class="el" href="../../de/d11/a00021_source.html#l00164">X_NTF_MFIELD_Y_SENSOR_SV_ALART</a>, <a class="el" href="../../d7/d7a/a00016_source.html#l00013">X_NTF_SUPERVISION_TIMER</a>, <a class="el" href="../../de/d11/a00021_source.html#l00168">X_NTF_UV_SENSOR_SV_ALART</a>, and <a class="el" href="../../d1/dc6/a00037_source.html#l00381">x_send_event()</a>.</p>

<p>Referenced by <a class="el" href="../../d4/dca/a00048_source.html#l00080">main()</a>.</p>
<div class="fragment"><div class="line"><a name="l02007"></a><span class="lineno"> 2007</span>&#160;{</div>
<div class="line"><a name="l02008"></a><span class="lineno"> 2008</span>&#160;</div>
<div class="line"><a name="l02009"></a><span class="lineno"> 2009</span>&#160;    <span class="keywordflow">switch</span>(notify-&gt;<a class="code" href="../../de/d8c/a00036.html#adf9665938515a20c283eea2c978cf80d">message</a>)</div>
<div class="line"><a name="l02010"></a><span class="lineno"> 2010</span>&#160;    {</div>
<div class="line"><a name="l02011"></a><span class="lineno"> 2011</span>&#160;        <span class="comment">// System standrd messages </span></div>
<div class="line"><a name="l02012"></a><span class="lineno"> 2012</span>&#160;</div>
<div class="line"><a name="l02013"></a><span class="lineno"> 2013</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../de/d8c/a00036.html#a620b808f2d7b8d2a03c4d026a4c5423c">X_NTF_INIT</a>:</div>
<div class="line"><a name="l02014"></a><span class="lineno"> 2014</span>&#160;        {</div>
<div class="line"><a name="l02015"></a><span class="lineno"> 2015</span>&#160;            <span class="comment">// Module intialization    </span></div>
<div class="line"><a name="l02016"></a><span class="lineno"> 2016</span>&#160;            algorithm_init();            </div>
<div class="line"><a name="l02017"></a><span class="lineno"> 2017</span>&#160;        }<span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02018"></a><span class="lineno"> 2018</span>&#160;</div>
<div class="line"><a name="l02019"></a><span class="lineno"> 2019</span>&#160;</div>
<div class="line"><a name="l02020"></a><span class="lineno"> 2020</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d7/d7a/a00016.html#aededd1ab0a512a03f6cb0d3459b254e1">X_NTF_SUPERVISION_TIMER</a>:</div>
<div class="line"><a name="l02021"></a><span class="lineno"> 2021</span>&#160;        {</div>
<div class="line"><a name="l02022"></a><span class="lineno"> 2022</span>&#160;           <a class="code" href="../../de/d8c/a00036.html#a4bc3d03c8d62c8237329ed4e969fbc1b">x_send_event</a>(&amp;<a class="code" href="../../d8/d41/a00038.html#a183caa40cd01e79ee309cc9c4a225197">algorithm_data</a>.<a class="code" href="../../d7/d7a/a00016.html#ad6a897cbacf5ae6902272ee198d5cd23">wake_event</a>);</div>
<div class="line"><a name="l02023"></a><span class="lineno"> 2023</span>&#160;        }<span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02024"></a><span class="lineno"> 2024</span>&#160;</div>
<div class="line"><a name="l02025"></a><span class="lineno"> 2025</span>&#160;        <span class="keywordflow">case</span>  <a class="code" href="../../de/d11/a00021.html#a5c8025c00c22190bf4b4c4fe87123f55">X_NTF_ALG_ANALOG_SUPPLY_ALERT</a>:            </div>
<div class="line"><a name="l02026"></a><span class="lineno"> 2026</span>&#160;        {</div>
<div class="line"><a name="l02027"></a><span class="lineno"> 2027</span>&#160;            <a class="code" href="../../d9/d73/a00060.html#a76ac5f917f5308dcd83de0d7c94559fb">data_non_volatile</a>.device_data.sv_record.system_error_flags.bits.power_supply = 1;</div>
<div class="line"><a name="l02028"></a><span class="lineno"> 2028</span>&#160;            <a class="code" href="../../d8/d41/a00038.html#a42ed16c7ef20e0c0031fe7ba7ae377b3">algorithm_wake</a>(0);</div>
<div class="line"><a name="l02029"></a><span class="lineno"> 2029</span>&#160;        }<span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02030"></a><span class="lineno"> 2030</span>&#160;</div>
<div class="line"><a name="l02031"></a><span class="lineno"> 2031</span>&#160;<span class="preprocessor">#if(DEVICE == AQ0X_V1)</span></div>
<div class="line"><a name="l02032"></a><span class="lineno"> 2032</span>&#160;         <span class="keywordflow">case</span>  <a class="code" href="../../de/d11/a00021.html#a472c0187f61238cdef62bf3d965df8e2">X_NTF_LIGHT_SENSOR_SV_ALART</a>:</div>
<div class="line"><a name="l02033"></a><span class="lineno"> 2033</span>&#160;        {</div>
<div class="line"><a name="l02034"></a><span class="lineno"> 2034</span>&#160;            <span class="comment">// supervission report indicating persistent error or when change is made on configured data</span></div>
<div class="line"><a name="l02035"></a><span class="lineno"> 2035</span>&#160;            <a class="code" href="../../de/d11/a00021.html#d7/d1b/a00864">x_notify_module_sv_status_report_t</a> *alarm = (<a class="code" href="../../de/d11/a00021.html#d7/d1b/a00864">x_notify_module_sv_status_report_t</a> *)notify;</div>
<div class="line"><a name="l02036"></a><span class="lineno"> 2036</span>&#160;            <a class="code" href="../../d9/d73/a00060.html#a76ac5f917f5308dcd83de0d7c94559fb">data_non_volatile</a>.device_data.sv_record.error_flags.light = alarm-&gt;<a class="code" href="../../de/d11/a00021.html#a13393a2d1589483b3bae4d2e79f43980">message</a>.error_flags;</div>
<div class="line"><a name="l02037"></a><span class="lineno"> 2037</span>&#160;             <a class="code" href="../../de/d8c/a00036.html#a4bc3d03c8d62c8237329ed4e969fbc1b">x_send_event</a>(&amp;<a class="code" href="../../d8/d41/a00038.html#a183caa40cd01e79ee309cc9c4a225197">algorithm_data</a>.<a class="code" href="../../d7/d7a/a00016.html#ad6a897cbacf5ae6902272ee198d5cd23">wake_event</a>);</div>
<div class="line"><a name="l02038"></a><span class="lineno"> 2038</span>&#160;        }<span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02039"></a><span class="lineno"> 2039</span>&#160;</div>
<div class="line"><a name="l02040"></a><span class="lineno"> 2040</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l02041"></a><span class="lineno"> 2041</span>&#160;         <span class="keywordflow">case</span>  <a class="code" href="../../de/d11/a00021.html#a0eb06525326cff5fc0fb38f141d6be8e">X_NTF_IR_SENSOR_SV_ALART</a>:</div>
<div class="line"><a name="l02042"></a><span class="lineno"> 2042</span>&#160;        {</div>
<div class="line"><a name="l02043"></a><span class="lineno"> 2043</span>&#160;            <span class="comment">// supervission report indicating persistent error or when change is made on configured data</span></div>
<div class="line"><a name="l02044"></a><span class="lineno"> 2044</span>&#160;            <a class="code" href="../../de/d11/a00021.html#d7/d1b/a00864">x_notify_module_sv_status_report_t</a> *alarm = (<a class="code" href="../../de/d11/a00021.html#d7/d1b/a00864">x_notify_module_sv_status_report_t</a> *)notify;</div>
<div class="line"><a name="l02045"></a><span class="lineno"> 2045</span>&#160;            <a class="code" href="../../d9/d73/a00060.html#a76ac5f917f5308dcd83de0d7c94559fb">data_non_volatile</a>.device_data.sv_record.error_flags.ir = alarm-&gt;<a class="code" href="../../de/d11/a00021.html#a13393a2d1589483b3bae4d2e79f43980">message</a>.error_flags;</div>
<div class="line"><a name="l02046"></a><span class="lineno"> 2046</span>&#160;</div>
<div class="line"><a name="l02047"></a><span class="lineno"> 2047</span>&#160;            <span class="keywordflow">if</span>(alarm-&gt;<a class="code" href="../../de/d11/a00021.html#a13393a2d1589483b3bae4d2e79f43980">message</a>.config.amp_treshold.adjusted == 1)</div>
<div class="line"><a name="l02048"></a><span class="lineno"> 2048</span>&#160;                <a class="code" href="../../d9/d73/a00060.html#a76ac5f917f5308dcd83de0d7c94559fb">data_non_volatile</a>.device_data.installation.thresholds.ir_level_max</div>
<div class="line"><a name="l02049"></a><span class="lineno"> 2049</span>&#160;                 = alarm-&gt;<a class="code" href="../../de/d11/a00021.html#a13393a2d1589483b3bae4d2e79f43980">message</a>.config.amp_treshold.set_value;</div>
<div class="line"><a name="l02050"></a><span class="lineno"> 2050</span>&#160;</div>
<div class="line"><a name="l02051"></a><span class="lineno"> 2051</span>&#160;        }<span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02052"></a><span class="lineno"> 2052</span>&#160;</div>
<div class="line"><a name="l02053"></a><span class="lineno"> 2053</span>&#160;         <span class="keywordflow">case</span>  <a class="code" href="../../de/d11/a00021.html#a146527c519502db561ac17015bf9df5b">X_NTF_UV_SENSOR_SV_ALART</a>:</div>
<div class="line"><a name="l02054"></a><span class="lineno"> 2054</span>&#160;        {</div>
<div class="line"><a name="l02055"></a><span class="lineno"> 2055</span>&#160;            <span class="comment">// supervission report indicating persistent error or when change is made on configured data</span></div>
<div class="line"><a name="l02056"></a><span class="lineno"> 2056</span>&#160;            <a class="code" href="../../de/d11/a00021.html#d7/d1b/a00864">x_notify_module_sv_status_report_t</a> * alarm = (<a class="code" href="../../de/d11/a00021.html#d7/d1b/a00864">x_notify_module_sv_status_report_t</a> *)notify;</div>
<div class="line"><a name="l02057"></a><span class="lineno"> 2057</span>&#160;            <a class="code" href="../../d9/d73/a00060.html#a76ac5f917f5308dcd83de0d7c94559fb">data_non_volatile</a>.device_data.sv_record.error_flags.uv = alarm-&gt;<a class="code" href="../../de/d11/a00021.html#a13393a2d1589483b3bae4d2e79f43980">message</a>.error_flags;</div>
<div class="line"><a name="l02058"></a><span class="lineno"> 2058</span>&#160;</div>
<div class="line"><a name="l02059"></a><span class="lineno"> 2059</span>&#160;             <span class="keywordflow">if</span>(alarm-&gt;<a class="code" href="../../de/d11/a00021.html#a13393a2d1589483b3bae4d2e79f43980">message</a>.config.amp_treshold.adjusted == 1)</div>
<div class="line"><a name="l02060"></a><span class="lineno"> 2060</span>&#160;                <a class="code" href="../../d9/d73/a00060.html#a76ac5f917f5308dcd83de0d7c94559fb">data_non_volatile</a>.device_data.installation.thresholds.uv_level_max</div>
<div class="line"><a name="l02061"></a><span class="lineno"> 2061</span>&#160;                 =alarm-&gt;<a class="code" href="../../de/d11/a00021.html#a13393a2d1589483b3bae4d2e79f43980">message</a>.config.amp_treshold.set_value;</div>
<div class="line"><a name="l02062"></a><span class="lineno"> 2062</span>&#160;</div>
<div class="line"><a name="l02063"></a><span class="lineno"> 2063</span>&#160;        }<span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02064"></a><span class="lineno"> 2064</span>&#160;</div>
<div class="line"><a name="l02065"></a><span class="lineno"> 2065</span>&#160;        <span class="keywordflow">case</span>  <a class="code" href="../../de/d11/a00021.html#a9d9558fb2155bafac3683d00b2a18b3f">X_NTF_MFIELD_X_SENSOR_SV_ALART</a>:</div>
<div class="line"><a name="l02066"></a><span class="lineno"> 2066</span>&#160;        {</div>
<div class="line"><a name="l02067"></a><span class="lineno"> 2067</span>&#160;            <span class="comment">// supervission report indicating persistent error</span></div>
<div class="line"><a name="l02068"></a><span class="lineno"> 2068</span>&#160;            <a class="code" href="../../de/d11/a00021.html#d7/d1b/a00864">x_notify_module_sv_status_report_t</a> * alarm = (<a class="code" href="../../de/d11/a00021.html#d7/d1b/a00864">x_notify_module_sv_status_report_t</a> *)notify;</div>
<div class="line"><a name="l02069"></a><span class="lineno"> 2069</span>&#160;            <a class="code" href="../../d9/d73/a00060.html#a76ac5f917f5308dcd83de0d7c94559fb">data_non_volatile</a>.device_data.sv_record.error_flags.mfield_x = alarm-&gt;<a class="code" href="../../de/d11/a00021.html#a13393a2d1589483b3bae4d2e79f43980">message</a>.error_flags;</div>
<div class="line"><a name="l02070"></a><span class="lineno"> 2070</span>&#160;      </div>
<div class="line"><a name="l02071"></a><span class="lineno"> 2071</span>&#160;        }<span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02072"></a><span class="lineno"> 2072</span>&#160;</div>
<div class="line"><a name="l02073"></a><span class="lineno"> 2073</span>&#160;<span class="preprocessor">#ifdef MFIELD_Y</span></div>
<div class="line"><a name="l02074"></a><span class="lineno"> 2074</span>&#160;        <span class="keywordflow">case</span>  <a class="code" href="../../de/d11/a00021.html#ad30200601c6761f2c9be1fd62df00421">X_NTF_MFIELD_Y_SENSOR_SV_ALART</a>:</div>
<div class="line"><a name="l02075"></a><span class="lineno"> 2075</span>&#160;        {        </div>
<div class="line"><a name="l02076"></a><span class="lineno"> 2076</span>&#160;            <span class="comment">// supervission report indicating persistent error</span></div>
<div class="line"><a name="l02077"></a><span class="lineno"> 2077</span>&#160;            <a class="code" href="../../de/d11/a00021.html#d7/d1b/a00864">x_notify_module_sv_status_report_t</a> * alarm = (<a class="code" href="../../de/d11/a00021.html#d7/d1b/a00864">x_notify_module_sv_status_report_t</a> *)notify;</div>
<div class="line"><a name="l02078"></a><span class="lineno"> 2078</span>&#160;            <a class="code" href="../../d9/d73/a00060.html#a76ac5f917f5308dcd83de0d7c94559fb">data_non_volatile</a>.device_data.sv_record.error_flags.mfield_y = alarm-&gt;<a class="code" href="../../de/d11/a00021.html#a13393a2d1589483b3bae4d2e79f43980">message</a>.error_flags;</div>
<div class="line"><a name="l02079"></a><span class="lineno"> 2079</span>&#160;            </div>
<div class="line"><a name="l02080"></a><span class="lineno"> 2080</span>&#160;        }<span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02081"></a><span class="lineno"> 2081</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l02082"></a><span class="lineno"> 2082</span>&#160;</div>
<div class="line"><a name="l02083"></a><span class="lineno"> 2083</span>&#160;        <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l02084"></a><span class="lineno"> 2084</span>&#160;        {</div>
<div class="line"><a name="l02085"></a><span class="lineno"> 2085</span>&#160;</div>
<div class="line"><a name="l02086"></a><span class="lineno"> 2086</span>&#160;            <a class="code" href="../../d6/d2c/a00072.html#abb8ff8e213ac9f6fb21d2b968583b936">ASSERT</a>(0);</div>
<div class="line"><a name="l02087"></a><span class="lineno"> 2087</span>&#160;        }</div>
<div class="line"><a name="l02088"></a><span class="lineno"> 2088</span>&#160;        </div>
<div class="line"><a name="l02089"></a><span class="lineno"> 2089</span>&#160;    }</div>
<div class="line"><a name="l02090"></a><span class="lineno"> 2090</span>&#160;}</div>
<div class="ttc" id="a00036_html_a620b808f2d7b8d2a03c4d026a4c5423c"><div class="ttname"><a href="../../de/d8c/a00036.html#a620b808f2d7b8d2a03c4d026a4c5423c">X_NTF_INIT</a></div><div class="ttdeci">#define X_NTF_INIT</div><div class="ttdoc">System init notification. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d8c/a00036_source.html#l00030">sys_eventx.h:30</a></div></div>
<div class="ttc" id="a00021_html_a5c8025c00c22190bf4b4c4fe87123f55"><div class="ttname"><a href="../../de/d11/a00021.html#a5c8025c00c22190bf4b4c4fe87123f55">X_NTF_ALG_ANALOG_SUPPLY_ALERT</a></div><div class="ttdeci">#define X_NTF_ALG_ANALOG_SUPPLY_ALERT</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d11/a00021_source.html#l00181">algorithm.h:181</a></div></div>
<div class="ttc" id="a00021_html_a9d9558fb2155bafac3683d00b2a18b3f"><div class="ttname"><a href="../../de/d11/a00021.html#a9d9558fb2155bafac3683d00b2a18b3f">X_NTF_MFIELD_X_SENSOR_SV_ALART</a></div><div class="ttdeci">#define X_NTF_MFIELD_X_SENSOR_SV_ALART</div><div class="ttdoc">Notification to Algorithm module about persistent error. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d11/a00021_source.html#l00162">algorithm.h:162</a></div></div>
<div class="ttc" id="a00072_html_abb8ff8e213ac9f6fb21d2b968583b936"><div class="ttname"><a href="../../d6/d2c/a00072.html#abb8ff8e213ac9f6fb21d2b968583b936">ASSERT</a></div><div class="ttdeci">#define ASSERT(c_)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d2c/a00072_source.html#l00059">System.h:59</a></div></div>
<div class="ttc" id="a00021_html_d7/d1b/a00864"><div class="ttname"><a href="../../de/d11/a00021.html#d7/d1b/a00864">x_notify_module_sv_status_report_t</a></div><div class="ttdoc">Notification structure. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d11/a00021_source.html#l00221">algorithm.h:221</a></div></div>
<div class="ttc" id="a00060_html_a76ac5f917f5308dcd83de0d7c94559fb"><div class="ttname"><a href="../../d9/d73/a00060.html#a76ac5f917f5308dcd83de0d7c94559fb">data_non_volatile</a></div><div class="ttdeci">data_non_volatile_t data_non_volatile</div><div class="ttdoc">EEPROM data storage copy 1. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d73/a00060_source.html#l00016">srv_nov.c:16</a></div></div>
<div class="ttc" id="a00021_html_a0eb06525326cff5fc0fb38f141d6be8e"><div class="ttname"><a href="../../de/d11/a00021.html#a0eb06525326cff5fc0fb38f141d6be8e">X_NTF_IR_SENSOR_SV_ALART</a></div><div class="ttdeci">#define X_NTF_IR_SENSOR_SV_ALART</div><div class="ttdoc">Notification to Algorithm module about persistent error. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d11/a00021_source.html#l00156">algorithm.h:156</a></div></div>
<div class="ttc" id="a00038_html_a183caa40cd01e79ee309cc9c4a225197"><div class="ttname"><a href="../../d8/d41/a00038.html#a183caa40cd01e79ee309cc9c4a225197">algorithm_data</a></div><div class="ttdeci">algorithm_data_t algorithm_data</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d41/a00038_source.html#l00033">algorithm.c:33</a></div></div>
<div class="ttc" id="a00016_html_aededd1ab0a512a03f6cb0d3459b254e1"><div class="ttname"><a href="../../d7/d7a/a00016.html#aededd1ab0a512a03f6cb0d3459b254e1">X_NTF_SUPERVISION_TIMER</a></div><div class="ttdeci">#define X_NTF_SUPERVISION_TIMER</div><div class="ttdoc">Notification id for supervson timer. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d7a/a00016_source.html#l00013">algorithm_prv.h:13</a></div></div>
<div class="ttc" id="a00036_html_adf9665938515a20c283eea2c978cf80d"><div class="ttname"><a href="../../de/d8c/a00036.html#adf9665938515a20c283eea2c978cf80d">x_notify::message</a></div><div class="ttdeci">Uint16 message</div><div class="ttdoc">Internal, for OS only - used for timer notifications, tick perid. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d8c/a00036_source.html#l00075">sys_eventx.h:75</a></div></div>
<div class="ttc" id="a00021_html_a13393a2d1589483b3bae4d2e79f43980"><div class="ttname"><a href="../../de/d11/a00021.html#a13393a2d1589483b3bae4d2e79f43980">x_notify_module_sv_status_report_t::message</a></div><div class="ttdeci">struct x_notify_module_sv_status_report_t::@2 message</div></div>
<div class="ttc" id="a00016_html_ad6a897cbacf5ae6902272ee198d5cd23"><div class="ttname"><a href="../../d7/d7a/a00016.html#ad6a897cbacf5ae6902272ee198d5cd23">algorithm_data_t::wake_event</a></div><div class="ttdeci">x_event wake_event</div><div class="ttdoc">Event used in notifications for wakeing main task. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d7a/a00016_source.html#l00079">algorithm_prv.h:79</a></div></div>
<div class="ttc" id="a00036_html_a4bc3d03c8d62c8237329ed4e969fbc1b"><div class="ttname"><a href="../../de/d8c/a00036.html#a4bc3d03c8d62c8237329ed4e969fbc1b">x_send_event</a></div><div class="ttdeci">void x_send_event(x_event *event)</div><div class="ttdoc">OS event scheduling function. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dc6/a00037_source.html#l00381">sys_eventx.c:381</a></div></div>
<div class="ttc" id="a00021_html_ad30200601c6761f2c9be1fd62df00421"><div class="ttname"><a href="../../de/d11/a00021.html#ad30200601c6761f2c9be1fd62df00421">X_NTF_MFIELD_Y_SENSOR_SV_ALART</a></div><div class="ttdeci">#define X_NTF_MFIELD_Y_SENSOR_SV_ALART</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d11/a00021_source.html#l00164">algorithm.h:164</a></div></div>
<div class="ttc" id="a00038_html_a42ed16c7ef20e0c0031fe7ba7ae377b3"><div class="ttname"><a href="../../d8/d41/a00038.html#a42ed16c7ef20e0c0031fe7ba7ae377b3">algorithm_wake</a></div><div class="ttdeci">void algorithm_wake(Uint8 event)</div><div class="ttdoc">Main processing loop for algorithm module. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d41/a00038_source.html#l00670">algorithm.c:670</a></div></div>
<div class="ttc" id="a00021_html_a472c0187f61238cdef62bf3d965df8e2"><div class="ttname"><a href="../../de/d11/a00021.html#a472c0187f61238cdef62bf3d965df8e2">X_NTF_LIGHT_SENSOR_SV_ALART</a></div><div class="ttdeci">#define X_NTF_LIGHT_SENSOR_SV_ALART</div><div class="ttdoc">Notification to Algorithm module about persistent error. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d11/a00021_source.html#l00159">algorithm.h:159</a></div></div>
<div class="ttc" id="a00021_html_a146527c519502db561ac17015bf9df5b"><div class="ttname"><a href="../../de/d11/a00021.html#a146527c519502db561ac17015bf9df5b">X_NTF_UV_SENSOR_SV_ALART</a></div><div class="ttdeci">#define X_NTF_UV_SENSOR_SV_ALART</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d11/a00021_source.html#l00168">algorithm.h:168</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d8/d41/a00038_a93269cdec3e21934aa9395440a2de605_cgraph.png" border="0" usemap="#d8/d41/a00038_a93269cdec3e21934aa9395440a2de605_cgraph" alt=""/></div>
<map name="d8/d41/a00038_a93269cdec3e21934aa9395440a2de605_cgraph" id="d8/d41/a00038_a93269cdec3e21934aa9395440a2de605_cgraph">
<area shape="rect" id="node2" href="../../d8/d41/a00038.html#a42ed16c7ef20e0c0031fe7ba7ae377b3" title="Main processing loop for algorithm module. " alt="" coords="173,115,285,141"/><area shape="rect" id="node9" href="../../de/d8c/a00036.html#a4bc3d03c8d62c8237329ed4e969fbc1b" title="OS event scheduling function. " alt="" coords="179,165,280,192"/><area shape="rect" id="node3" href="../../d4/d51/a00017.html#a86870a0e00601a92277e689447739ce9" title="ir_sen_hif_check" alt="" coords="363,5,482,32"/><area shape="rect" id="node4" href="../../d4/d51/a00017.html#a1c9872e93491d95a24ab0bc723d39a74" title="ir_record_reset" alt="" coords="369,56,477,83"/><area shape="rect" id="node5" href="../../d8/d41/a00038.html#a85471d58eae93d5d7e7e2b52e2b915d3" title="Causes that system will send notification to the module as this cannot be done directly because the f..." alt="" coords="333,107,512,149"/><area shape="rect" id="node7" href="../../d7/df7/a00058.html#a0af9eae455fbdf4e77def5bfffa109cb" title="gpio port control helper function " alt="" coords="341,173,505,200"/><area shape="rect" id="node8" href="../../d5/d16/a00029.html#a90aef186f45a15d94bf0247122194991" title="Writes NOV storage to EEPROM. " alt="" coords="384,224,461,251"/><area shape="rect" id="node6" href="../../de/d8c/a00036.html#a9953756bc7c83e5f2c36830396136e75" title="OS interrupt notification timer. " alt="" coords="560,115,712,141"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d8/d41/a00038_a93269cdec3e21934aa9395440a2de605_icgraph.png" border="0" usemap="#d8/d41/a00038_a93269cdec3e21934aa9395440a2de605_icgraph" alt=""/></div>
<map name="d8/d41/a00038_a93269cdec3e21934aa9395440a2de605_icgraph" id="d8/d41/a00038_a93269cdec3e21934aa9395440a2de605_icgraph">
<area shape="rect" id="node2" href="../../d4/dca/a00048.html#a840291bc02cba5474a4cb46a9b9566fe" title="System startup function. " alt="" coords="173,5,224,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a2925c58a9c3f5d3c957eaca9a95a6c3a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d2c/a00072.html#a253b248072cfc8bd812c69acd0046eed">Bool</a> algorithm_signal_proportionality </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d6/d2c/a00072.html#a59a9f6be4562c327cbfb4f7e8e18f08b">Uint16</a> *&#160;</td>
          <td class="paramname"><em>vector1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/d2c/a00072.html#a59a9f6be4562c327cbfb4f7e8e18f08b">Uint16</a> *&#160;</td>
          <td class="paramname"><em>vector2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/d2c/a00072.html#a59a9f6be4562c327cbfb4f7e8e18f08b">Uint16</a>&#160;</td>
          <td class="paramname"><em>SIZE</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The function calculate the relation between the given vectors and standard deviation of the resulting vector to determine the similarity between the two signals. </p>

<p>Definition at line <a class="el" href="../../d8/d41/a00038_source.html#l00242">242</a> of file <a class="el" href="../../d8/d41/a00038_source.html">algorithm.c</a>.</p>

<p>References <a class="el" href="../../db/d3a/a00040_source.html#l00086">FALSE</a>, <a class="el" href="../../d7/de0/a00022_source.html#l00016">MAX_EVENT_OBSERVATION_LENGTH</a>, and <a class="el" href="../../db/d3a/a00040_source.html#l00084">TRUE</a>.</p>
<div class="fragment"><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;{</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    <a class="code" href="../../d6/d2c/a00072.html#a87d38f886e617ced2698fc55afa07637">Float32</a> vector[<a class="code" href="../../d7/de0/a00022.html#aa060aeb1ecb530b3c6f6d91060999b70">MAX_EVENT_OBSERVATION_LENGTH</a>];</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    <span class="keywordtype">long</span> <span class="keywordtype">double</span> sum=0;</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;    <a class="code" href="../../d6/d2c/a00072.html#af84840501dec18061d18a68c162a8fa2">Uint8</a> cc = 0;</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;  </div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    <span class="keywordflow">for</span>(cc = 0;cc &lt; SIZE;cc++){</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;        vector[cc] = (<a class="code" href="../../d6/d2c/a00072.html#a87d38f886e617ced2698fc55afa07637">Float32</a>)*(vector1 + cc)/(<a class="code" href="../../d6/d2c/a00072.html#a87d38f886e617ced2698fc55afa07637">Float32</a>)*(vector2 + cc);</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;        sum += vector[cc];</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    }</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;    <a class="code" href="../../d6/d2c/a00072.html#a87d38f886e617ced2698fc55afa07637">Float32</a> mean =  sum/SIZE;</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;    sum = 0;</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;    <span class="keywordflow">for</span>(cc = 0;cc&lt;SIZE;cc++)</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;        sum += pow((vector[cc]-mean),2);</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;    <a class="code" href="../../d6/d2c/a00072.html#a87d38f886e617ced2698fc55afa07637">Float32</a> deviation =  sum/SIZE;</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;    <span class="keywordflow">if</span>(deviation &lt; 0.1 <span class="comment">/*less than 10% deviation*/</span>)</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../db/d3a/a00040.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../db/d3a/a00040.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;}</div>
<div class="ttc" id="a00022_html_aa060aeb1ecb530b3c6f6d91060999b70"><div class="ttname"><a href="../../d7/de0/a00022.html#aa060aeb1ecb530b3c6f6d91060999b70">MAX_EVENT_OBSERVATION_LENGTH</a></div><div class="ttdeci">#define MAX_EVENT_OBSERVATION_LENGTH</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/de0/a00022_source.html#l00016">nov_data.h:16</a></div></div>
<div class="ttc" id="a00040_html_aa93f0eb578d23995850d61f7d61c55c1"><div class="ttname"><a href="../../db/d3a/a00040.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a></div><div class="ttdeci">#define FALSE</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d3a/a00040_source.html#l00086">allheaders.h:86</a></div></div>
<div class="ttc" id="a00040_html_aa8cecfc5c5c054d2875c03e77b7be15d"><div class="ttname"><a href="../../db/d3a/a00040.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a></div><div class="ttdeci">#define TRUE</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d3a/a00040_source.html#l00084">allheaders.h:84</a></div></div>
<div class="ttc" id="a00072_html_a87d38f886e617ced2698fc55afa07637"><div class="ttname"><a href="../../d6/d2c/a00072.html#a87d38f886e617ced2698fc55afa07637">Float32</a></div><div class="ttdeci">float Float32</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d2c/a00072_source.html#l00045">System.h:45</a></div></div>
<div class="ttc" id="a00072_html_af84840501dec18061d18a68c162a8fa2"><div class="ttname"><a href="../../d6/d2c/a00072.html#af84840501dec18061d18a68c162a8fa2">Uint8</a></div><div class="ttdeci">unsigned char Uint8</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d2c/a00072_source.html#l00040">System.h:40</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ab898d2d804c49cb0978d26f6af64e0e4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void algorithm_sv_scan_timer_init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Low level analog. </p>

<p>Definition at line <a class="el" href="../../d8/d41/a00038_source.html#l00543">543</a> of file <a class="el" href="../../d8/d41/a00038_source.html">algorithm.c</a>.</p>

<p>References <a class="el" href="../../d6/d2c/a00072_source.html#l00035">FOSC_CPU</a>, and <a class="el" href="../../de/d11/a00021_source.html#l00096">SCAN_FREQ</a>.</p>
<div class="fragment"><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;{</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;    <span class="comment">// Setup fast timer for analog level polling </span></div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;    T1CONbits.TON    = 0;                    <span class="comment">// Disable Timer</span></div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;    T1CON            = 0;                    <span class="comment">// Clear the register</span></div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;    T1CONbits.TCS    = 0;                    <span class="comment">// Internal clock Fosc/4</span></div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;    T1CONbits.TGATE  = 0;                    <span class="comment">// Disable Gated Timer mode</span></div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;    T1CONbits.TCKPS  = 0;                    <span class="comment">// 1:1 prescaling</span></div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;    TMR1             = 0x00;                 <span class="comment">// Clear timer register</span></div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;    PR1 = (<a class="code" href="../../d6/d2c/a00072.html#a64b7f2fd4683ad3dcd74ccab1eba40d7">FOSC_CPU</a>/2)/<a class="code" href="../../de/d11/a00021.html#a8127170b687c1f67a968886c128e76e4">SCAN_FREQ</a>;</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;    IPC0bits.T1IP    = 0x06;                 <span class="comment">// Set Timer1 Interrupt Priority Level</span></div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;    IFS0bits.T1IF    = 0;                    <span class="comment">// Clear the Timer1 Interrupt Flag</span></div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;    IEC0bits.T1IE    = 1;                    <span class="comment">// Enable Timer1 Interrupt Service Routine</span></div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;    T1CONbits.TON    = 1;                    <span class="comment">//Start Timer 1</span></div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;}</div>
<div class="ttc" id="a00072_html_a64b7f2fd4683ad3dcd74ccab1eba40d7"><div class="ttname"><a href="../../d6/d2c/a00072.html#a64b7f2fd4683ad3dcd74ccab1eba40d7">FOSC_CPU</a></div><div class="ttdeci">#define FOSC_CPU</div><div class="ttdoc">Instruction Cycle Frequency. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d2c/a00072_source.html#l00035">System.h:35</a></div></div>
<div class="ttc" id="a00021_html_a8127170b687c1f67a968886c128e76e4"><div class="ttname"><a href="../../de/d11/a00021.html#a8127170b687c1f67a968886c128e76e4">SCAN_FREQ</a></div><div class="ttdeci">#define SCAN_FREQ</div><div class="ttdoc">Sensor/input scan frequency - 10kHz, 100us period. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d11/a00021_source.html#l00096">algorithm.h:96</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a1d182ae18a9176c2a1e28cc654dc0e43"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void algorithm_taskx </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../de/d8c/a00036.html#de/d37/a00849">x_event</a> *&#160;</td>
          <td class="paramname"><em>event</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Algorithm task function. </p>
<p>Processes incoming events. </p>
<p>more than 80% correlation is considered as strong similarity </p>

<p>Definition at line <a class="el" href="../../d8/d41/a00038_source.html#l01905">1905</a> of file <a class="el" href="../../d8/d41/a00038_source.html">algorithm.c</a>.</p>

<p>References <a class="el" href="../../d6/d2c/a00072_source.html#l00059">ASSERT</a>, <a class="el" href="../../d7/d7a/a00016_source.html#l00049">algorithm_data_t::clear_alarm_ir</a>, <a class="el" href="../../d7/d7a/a00016_source.html#l00055">algorithm_data_t::clear_alarm_mfield_x</a>, <a class="el" href="../../d7/d7a/a00016_source.html#l00052">algorithm_data_t::clear_alarm_uv</a>, <a class="el" href="../../d9/d73/a00060_source.html#l00016">data_non_volatile</a>, <a class="el" href="../../d7/d7a/a00016.html#a16f85d57ec98b4ad05f5a2e10536b3c6">algorithm_data_t::diagnosis</a>, <a class="el" href="../../de/d11/a00021.html#a11ed024c2cc5c53c79b2c0a8b35e3c06">logv_t::disturbance_record</a>, <a class="el" href="../../d4/d51/a00017_source.html#l00025">FP_TOLERANCE</a>, <a class="el" href="../../de/d11/a00021_source.html#l00064">IRQ_DR_READY</a>, <a class="el" href="../../de/d11/a00021_source.html#l00063">IRQ_SOURCE_HIF_EVENT</a>, <a class="el" href="../../de/d11/a00021_source.html#l00058">IRQ_SOURCE_SERIAL</a>, <a class="el" href="../../d7/d7a/a00016.html#a1aafd556b3c9ed3e5295b17dbd80cab8">algorithm_data_t::irq_src</a>, <a class="el" href="../../de/d8c/a00036_source.html#l00064">x_event::message</a>, <a class="el" href="../../d9/d73/a00060_source.html#l00397">nov_store()</a>, <a class="el" href="../../dc/ddf/a00067_source.html#l00028">srv_wdg_kick</a>, <a class="el" href="../../d7/d7a/a00016_source.html#l00045">algorithm_data_t::supervision_timer</a>, <a class="el" href="../../d3/d52/a00023_source.html#l00020">SV_TIMER_PERIOD</a>, <a class="el" href="../../db/d3a/a00040_source.html#l00084">TRUE</a>, <a class="el" href="../../d1/dc6/a00037_source.html#l00482">x_delete_timer()</a>, <a class="el" href="../../de/d8c/a00036_source.html#l00048">X_MS2TICK</a>, <a class="el" href="../../d7/d7a/a00016_source.html#l00023">X_MSG_CONFIGURE_EVENT</a>, <a class="el" href="../../de/d8c/a00036_source.html#l00020">X_MSG_IRQ_SYNC</a>, <a class="el" href="../../d7/d7a/a00016_source.html#l00020">X_MSG_WAKE_EVENT</a>, <a class="el" href="../../d1/dc6/a00037_source.html#l00456">x_schedule_timer()</a>, and <a class="el" href="../../d1/dc6/a00037_source.html#l00435">x_send_notify()</a>.</p>

<p>Referenced by <a class="el" href="../../d4/dca/a00048_source.html#l00080">main()</a>.</p>
<div class="fragment"><div class="line"><a name="l01906"></a><span class="lineno"> 1906</span>&#160;{</div>
<div class="line"><a name="l01907"></a><span class="lineno"> 1907</span>&#160;    <span class="keywordflow">switch</span>(event-&gt;<a class="code" href="../../de/d8c/a00036.html#adf9665938515a20c283eea2c978cf80d">message</a>)</div>
<div class="line"><a name="l01908"></a><span class="lineno"> 1908</span>&#160;    {</div>
<div class="line"><a name="l01909"></a><span class="lineno"> 1909</span>&#160;</div>
<div class="line"><a name="l01910"></a><span class="lineno"> 1910</span>&#160;</div>
<div class="line"><a name="l01911"></a><span class="lineno"> 1911</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../de/d8c/a00036.html#a104f1137aafb33160da80932fe63c40d">X_MSG_IRQ_SYNC</a>:</div>
<div class="line"><a name="l01912"></a><span class="lineno"> 1912</span>&#160;        {</div>
<div class="line"><a name="l01913"></a><span class="lineno"> 1913</span>&#160;             <a class="code" href="../../dc/ddf/a00067.html#a710d148845397582739d170341f3d3d9">srv_wdg_kick</a>();</div>
<div class="line"><a name="l01914"></a><span class="lineno"> 1914</span>&#160;            <span class="keywordflow">if</span>(<a class="code" href="../../d8/d41/a00038.html#a183caa40cd01e79ee309cc9c4a225197">algorithm_data</a>.<a class="code" href="../../d7/d7a/a00016.html#a1aafd556b3c9ed3e5295b17dbd80cab8">irq_src</a>.fields.external != 0){</div>
<div class="line"><a name="l01915"></a><span class="lineno"> 1915</span>&#160;                    <span class="keywordflow">if</span>(<a class="code" href="../../d8/d41/a00038.html#a183caa40cd01e79ee309cc9c4a225197">algorithm_data</a>.<a class="code" href="../../d7/d7a/a00016.html#a1aafd556b3c9ed3e5295b17dbd80cab8">irq_src</a>.all == <a class="code" href="../../de/d11/a00021.html#a286de80383de54438b3e38d9f149dfd0">IRQ_SOURCE_SERIAL</a>)</div>
<div class="line"><a name="l01916"></a><span class="lineno"> 1916</span>&#160;                    algorithm_cmd_handler();</div>
<div class="line"><a name="l01917"></a><span class="lineno"> 1917</span>&#160;</div>
<div class="line"><a name="l01918"></a><span class="lineno"> 1918</span>&#160;                  <a class="code" href="../../d8/d41/a00038.html#a183caa40cd01e79ee309cc9c4a225197">algorithm_data</a>.<a class="code" href="../../d7/d7a/a00016.html#a1aafd556b3c9ed3e5295b17dbd80cab8">irq_src</a>.fields.external = 0;</div>
<div class="line"><a name="l01919"></a><span class="lineno"> 1919</span>&#160;            }</div>
<div class="line"><a name="l01920"></a><span class="lineno"> 1920</span>&#160;</div>
<div class="line"><a name="l01921"></a><span class="lineno"> 1921</span>&#160;</div>
<div class="line"><a name="l01922"></a><span class="lineno"> 1922</span>&#160;</div>
<div class="line"><a name="l01923"></a><span class="lineno"> 1923</span>&#160;            <span class="keywordflow">if</span>(<a class="code" href="../../d8/d41/a00038.html#a183caa40cd01e79ee309cc9c4a225197">algorithm_data</a>.<a class="code" href="../../d7/d7a/a00016.html#a1aafd556b3c9ed3e5295b17dbd80cab8">irq_src</a>.fields.internal != 0){</div>
<div class="line"><a name="l01924"></a><span class="lineno"> 1924</span>&#160;                    <span class="keywordflow">if</span>(<a class="code" href="../../d8/d41/a00038.html#a183caa40cd01e79ee309cc9c4a225197">algorithm_data</a>.<a class="code" href="../../d7/d7a/a00016.html#a1aafd556b3c9ed3e5295b17dbd80cab8">irq_src</a>.all == <a class="code" href="../../de/d11/a00021.html#a51725fc3a4c26625f15db1274791d961">IRQ_SOURCE_HIF_EVENT</a>){</div>
<div class="line"><a name="l01925"></a><span class="lineno"> 1925</span>&#160;                        <a class="code" href="../../d6/d2c/a00072.html#a87d38f886e617ced2698fc55afa07637">Float32</a> result = algorithm_liner_correlation(&amp;<a class="code" href="../../d9/d73/a00060.html#a76ac5f917f5308dcd83de0d7c94559fb">data_non_volatile</a>.disturbance_record.hif_diagonesis_records,<a class="code" href="../../d7/de0/a00022.html#aa060aeb1ecb530b3c6f6d91060999b70">MAX_EVENT_OBSERVATION_LENGTH</a>);</div>
<div class="line"><a name="l01926"></a><span class="lineno"> 1926</span>&#160;                       <span class="comment">//if(algorithm_liner_correlation(&amp;data_non_volatile.disturbance_record.hif_diagonesis_records,MAX_EVENT_OBSERVATION_LENGTH) &gt; 80){</span></div>
<div class="line"><a name="l01927"></a><span class="lineno"> 1927</span>&#160;                         <span class="keywordflow">if</span>(result &gt;= 80){</div>
<div class="line"><a name="l01929"></a><span class="lineno"> 1929</span>&#160;                            <a class="code" href="../../d8/d41/a00038.html#a183caa40cd01e79ee309cc9c4a225197">algorithm_data</a>.<a class="code" href="../../d7/d7a/a00016.html#a16f85d57ec98b4ad05f5a2e10536b3c6">diagnosis</a>.hif.flags.result = 1;</div>
<div class="line"><a name="l01930"></a><span class="lineno"> 1930</span>&#160;                            <a class="code" href="../../d8/d41/a00038.html#a183caa40cd01e79ee309cc9c4a225197">algorithm_data</a>.<a class="code" href="../../d7/d7a/a00016.html#a16f85d57ec98b4ad05f5a2e10536b3c6">diagnosis</a>.hif.flags.ready  = 1;</div>
<div class="line"><a name="l01931"></a><span class="lineno"> 1931</span>&#160;                         }<span class="keywordflow">else</span>{</div>
<div class="line"><a name="l01932"></a><span class="lineno"> 1932</span>&#160;                            <a class="code" href="../../d8/d41/a00038.html#a183caa40cd01e79ee309cc9c4a225197">algorithm_data</a>.<a class="code" href="../../d7/d7a/a00016.html#a16f85d57ec98b4ad05f5a2e10536b3c6">diagnosis</a>.hif.flags.result = 0;</div>
<div class="line"><a name="l01933"></a><span class="lineno"> 1933</span>&#160;                            <a class="code" href="../../d8/d41/a00038.html#a183caa40cd01e79ee309cc9c4a225197">algorithm_data</a>.<a class="code" href="../../d7/d7a/a00016.html#a16f85d57ec98b4ad05f5a2e10536b3c6">diagnosis</a>.hif.flags.ready  = 1;</div>
<div class="line"><a name="l01934"></a><span class="lineno"> 1934</span>&#160;                            memset(&amp;<a class="code" href="../../d9/d73/a00060.html#a76ac5f917f5308dcd83de0d7c94559fb">data_non_volatile</a>.disturbance_record.hif_diagonesis_records,0,<span class="keyword">sizeof</span>(<a class="code" href="../../d9/d73/a00060.html#a76ac5f917f5308dcd83de0d7c94559fb">data_non_volatile</a>.disturbance_record.hif_diagonesis_records));</div>
<div class="line"><a name="l01935"></a><span class="lineno"> 1935</span>&#160;                         }</div>
<div class="line"><a name="l01936"></a><span class="lineno"> 1936</span>&#160;                    }</div>
<div class="line"><a name="l01937"></a><span class="lineno"> 1937</span>&#160;                    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01938"></a><span class="lineno"> 1938</span>&#160;                    <span class="keywordflow">if</span>(<a class="code" href="../../d8/d41/a00038.html#a183caa40cd01e79ee309cc9c4a225197">algorithm_data</a>.<a class="code" href="../../d7/d7a/a00016.html#a1aafd556b3c9ed3e5295b17dbd80cab8">irq_src</a>.all == <a class="code" href="../../de/d11/a00021.html#acfd80444497090bce928df199247a0ec">IRQ_DR_READY</a>)</div>
<div class="line"><a name="l01939"></a><span class="lineno"> 1939</span>&#160;                    {</div>
<div class="line"><a name="l01940"></a><span class="lineno"> 1940</span>&#160;                        </div>
<div class="line"><a name="l01941"></a><span class="lineno"> 1941</span>&#160;                        <a class="code" href="../../d5/d16/a00029.html#a90aef186f45a15d94bf0247122194991">nov_store</a>();</div>
<div class="line"><a name="l01942"></a><span class="lineno"> 1942</span>&#160;                        <a class="code" href="../../d8/d41/a00038.html#a2e89c46668b39a17753c238950c9e1ec">logv</a>.<a class="code" href="../../de/d11/a00021.html#a11ed024c2cc5c53c79b2c0a8b35e3c06">disturbance_record</a>.bits.ready = 1;</div>
<div class="line"><a name="l01943"></a><span class="lineno"> 1943</span>&#160;                    }</div>
<div class="line"><a name="l01944"></a><span class="lineno"> 1944</span>&#160;</div>
<div class="line"><a name="l01945"></a><span class="lineno"> 1945</span>&#160;                    <a class="code" href="../../d8/d41/a00038.html#a183caa40cd01e79ee309cc9c4a225197">algorithm_data</a>.<a class="code" href="../../d7/d7a/a00016.html#a1aafd556b3c9ed3e5295b17dbd80cab8">irq_src</a>.fields.internal = 0;</div>
<div class="line"><a name="l01946"></a><span class="lineno"> 1946</span>&#160;         }</div>
<div class="line"><a name="l01947"></a><span class="lineno"> 1947</span>&#160;        }<span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01948"></a><span class="lineno"> 1948</span>&#160;</div>
<div class="line"><a name="l01949"></a><span class="lineno"> 1949</span>&#160;</div>
<div class="line"><a name="l01950"></a><span class="lineno"> 1950</span>&#160;</div>
<div class="line"><a name="l01951"></a><span class="lineno"> 1951</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d7/d7a/a00016.html#ae6be514b1d949dc71420a3e549772995">X_MSG_WAKE_EVENT</a>:</div>
<div class="line"><a name="l01952"></a><span class="lineno"> 1952</span>&#160;        {</div>
<div class="line"><a name="l01953"></a><span class="lineno"> 1953</span>&#160;              <span class="keywordflow">if</span>(<a class="code" href="../../d8/d41/a00038.html#a183caa40cd01e79ee309cc9c4a225197">algorithm_data</a>.<a class="code" href="../../d7/d7a/a00016.html#a16f85d57ec98b4ad05f5a2e10536b3c6">diagnosis</a>.false_alarm.ir.cnt++ &gt; <a class="code" href="../../d4/d51/a00017.html#a946f0acff4fd16a65859479e9e0b9513">FP_TOLERANCE</a>)</div>
<div class="line"><a name="l01954"></a><span class="lineno"> 1954</span>&#160;              <a class="code" href="../../de/d8c/a00036.html#ae17b0bb16da3c471bb6074bb4c4d0fee">x_send_notify</a>(&amp;<a class="code" href="../../d8/d41/a00038.html#a183caa40cd01e79ee309cc9c4a225197">algorithm_data</a>.<a class="code" href="../../d7/d7a/a00016.html#a5ef7ebf1a1e20f770d46232ab2be8312">clear_alarm_ir</a>);</div>
<div class="line"><a name="l01955"></a><span class="lineno"> 1955</span>&#160;</div>
<div class="line"><a name="l01956"></a><span class="lineno"> 1956</span>&#160;              <span class="keywordflow">if</span>(<a class="code" href="../../d8/d41/a00038.html#a183caa40cd01e79ee309cc9c4a225197">algorithm_data</a>.<a class="code" href="../../d7/d7a/a00016.html#a16f85d57ec98b4ad05f5a2e10536b3c6">diagnosis</a>.false_alarm.uv.cnt++ &gt; <a class="code" href="../../d4/d51/a00017.html#a946f0acff4fd16a65859479e9e0b9513">FP_TOLERANCE</a>)</div>
<div class="line"><a name="l01957"></a><span class="lineno"> 1957</span>&#160;              <a class="code" href="../../de/d8c/a00036.html#ae17b0bb16da3c471bb6074bb4c4d0fee">x_send_notify</a>(&amp;<a class="code" href="../../d8/d41/a00038.html#a183caa40cd01e79ee309cc9c4a225197">algorithm_data</a>.<a class="code" href="../../d7/d7a/a00016.html#a5d8e57dd19de326e75625a8704cfceee">clear_alarm_uv</a>);</div>
<div class="line"><a name="l01958"></a><span class="lineno"> 1958</span>&#160;</div>
<div class="line"><a name="l01959"></a><span class="lineno"> 1959</span>&#160;              <span class="keywordflow">if</span>(<a class="code" href="../../d8/d41/a00038.html#a183caa40cd01e79ee309cc9c4a225197">algorithm_data</a>.<a class="code" href="../../d7/d7a/a00016.html#a16f85d57ec98b4ad05f5a2e10536b3c6">diagnosis</a>.false_alarm.mfield_x.cnt++ &gt; <a class="code" href="../../d4/d51/a00017.html#a946f0acff4fd16a65859479e9e0b9513">FP_TOLERANCE</a>)</div>
<div class="line"><a name="l01960"></a><span class="lineno"> 1960</span>&#160;              <a class="code" href="../../de/d8c/a00036.html#ae17b0bb16da3c471bb6074bb4c4d0fee">x_send_notify</a>(&amp;<a class="code" href="../../d8/d41/a00038.html#a183caa40cd01e79ee309cc9c4a225197">algorithm_data</a>.<a class="code" href="../../d7/d7a/a00016.html#a57101a48bdde96a0db1ec63892095f7c">clear_alarm_mfield_x</a>);</div>
<div class="line"><a name="l01961"></a><span class="lineno"> 1961</span>&#160;</div>
<div class="line"><a name="l01962"></a><span class="lineno"> 1962</span>&#160;</div>
<div class="line"><a name="l01963"></a><span class="lineno"> 1963</span>&#160;</div>
<div class="line"><a name="l01964"></a><span class="lineno"> 1964</span>&#160;</div>
<div class="line"><a name="l01965"></a><span class="lineno"> 1965</span>&#160;        }<span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01966"></a><span class="lineno"> 1966</span>&#160;</div>
<div class="line"><a name="l01967"></a><span class="lineno"> 1967</span>&#160;</div>
<div class="line"><a name="l01968"></a><span class="lineno"> 1968</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d7/d7a/a00016.html#a410c7d83b819fa283303a53830c87a96">X_MSG_CONFIGURE_EVENT</a>:</div>
<div class="line"><a name="l01969"></a><span class="lineno"> 1969</span>&#160;        {</div>
<div class="line"><a name="l01970"></a><span class="lineno"> 1970</span>&#160;            algorithm_configure();</div>
<div class="line"><a name="l01971"></a><span class="lineno"> 1971</span>&#160;            <a class="code" href="../../d9/d73/a00060.html#a76ac5f917f5308dcd83de0d7c94559fb">data_non_volatile</a>.device_data.installation.is_valid = <a class="code" href="../../db/d3a/a00040.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div>
<div class="line"><a name="l01972"></a><span class="lineno"> 1972</span>&#160;</div>
<div class="line"><a name="l01973"></a><span class="lineno"> 1973</span>&#160;<span class="preprocessor">#if(0)</span></div>
<div class="line"><a name="l01974"></a><span class="lineno"> 1974</span>&#160;          <a class="code" href="../../de/d8c/a00036.html#ab69e9af4cfa717e870d587906283635c">x_delete_timer</a>(&amp;<a class="code" href="../../d8/d41/a00038.html#a183caa40cd01e79ee309cc9c4a225197">algorithm_data</a>.<a class="code" href="../../d7/d7a/a00016.html#af13eb2dcaed3eca6506489f8ad8fa768">supervision_timer</a>);</div>
<div class="line"><a name="l01975"></a><span class="lineno"> 1975</span>&#160;          <a class="code" href="../../de/d8c/a00036.html#a9e3befaa21e83f196f74201deed85346">x_schedule_timer</a>(&amp;<a class="code" href="../../d8/d41/a00038.html#a183caa40cd01e79ee309cc9c4a225197">algorithm_data</a>.<a class="code" href="../../d7/d7a/a00016.html#af13eb2dcaed3eca6506489f8ad8fa768">supervision_timer</a>,<a class="code" href="../../de/d8c/a00036.html#a1732cd929c486b3a225824bb2b3dba36">X_MS2TICK</a>(<a class="code" href="../../d3/d52/a00023.html#a8a535456285f4602701c814d7b69cc68">SV_TIMER_PERIOD</a>));</div>
<div class="line"><a name="l01976"></a><span class="lineno"> 1976</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01977"></a><span class="lineno"> 1977</span>&#160;        }<span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01978"></a><span class="lineno"> 1978</span>&#160;    </div>
<div class="line"><a name="l01979"></a><span class="lineno"> 1979</span>&#160;        <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l01980"></a><span class="lineno"> 1980</span>&#160;        {</div>
<div class="line"><a name="l01981"></a><span class="lineno"> 1981</span>&#160;            <a class="code" href="../../d6/d2c/a00072.html#abb8ff8e213ac9f6fb21d2b968583b936">ASSERT</a>(0);</div>
<div class="line"><a name="l01982"></a><span class="lineno"> 1982</span>&#160;        }<span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01983"></a><span class="lineno"> 1983</span>&#160;    </div>
<div class="line"><a name="l01984"></a><span class="lineno"> 1984</span>&#160;    };</div>
<div class="line"><a name="l01985"></a><span class="lineno"> 1985</span>&#160;</div>
<div class="line"><a name="l01986"></a><span class="lineno"> 1986</span>&#160;}</div>
<div class="ttc" id="a00072_html_abb8ff8e213ac9f6fb21d2b968583b936"><div class="ttname"><a href="../../d6/d2c/a00072.html#abb8ff8e213ac9f6fb21d2b968583b936">ASSERT</a></div><div class="ttdeci">#define ASSERT(c_)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d2c/a00072_source.html#l00059">System.h:59</a></div></div>
<div class="ttc" id="a00036_html_ab69e9af4cfa717e870d587906283635c"><div class="ttname"><a href="../../de/d8c/a00036.html#ab69e9af4cfa717e870d587906283635c">x_delete_timer</a></div><div class="ttdeci">void x_delete_timer(x_notify *timer)</div><div class="ttdoc">OS timer delete request. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dc6/a00037_source.html#l00482">sys_eventx.c:482</a></div></div>
<div class="ttc" id="a00021_html_acfd80444497090bce928df199247a0ec"><div class="ttname"><a href="../../de/d11/a00021.html#acfd80444497090bce928df199247a0ec">IRQ_DR_READY</a></div><div class="ttdeci">#define IRQ_DR_READY</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d11/a00021_source.html#l00064">algorithm.h:64</a></div></div>
<div class="ttc" id="a00016_html_a5d8e57dd19de326e75625a8704cfceee"><div class="ttname"><a href="../../d7/d7a/a00016.html#a5d8e57dd19de326e75625a8704cfceee">algorithm_data_t::clear_alarm_uv</a></div><div class="ttdeci">x_notify clear_alarm_uv</div><div class="ttdoc">Notification message to clear alarm recognized as false positive. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d7a/a00016_source.html#l00052">algorithm_prv.h:52</a></div></div>
<div class="ttc" id="a00016_html_af13eb2dcaed3eca6506489f8ad8fa768"><div class="ttname"><a href="../../d7/d7a/a00016.html#af13eb2dcaed3eca6506489f8ad8fa768">algorithm_data_t::supervision_timer</a></div><div class="ttdeci">x_notify supervision_timer</div><div class="ttdoc">Private notification object- supervison timer. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d7a/a00016_source.html#l00045">algorithm_prv.h:45</a></div></div>
<div class="ttc" id="a00021_html_a286de80383de54438b3e38d9f149dfd0"><div class="ttname"><a href="../../de/d11/a00021.html#a286de80383de54438b3e38d9f149dfd0">IRQ_SOURCE_SERIAL</a></div><div class="ttdeci">#define IRQ_SOURCE_SERIAL</div><div class="ttdoc">external interrupts source identification number MIN : 0x0001 MAX : 0x00FF </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d11/a00021_source.html#l00058">algorithm.h:58</a></div></div>
<div class="ttc" id="a00060_html_a76ac5f917f5308dcd83de0d7c94559fb"><div class="ttname"><a href="../../d9/d73/a00060.html#a76ac5f917f5308dcd83de0d7c94559fb">data_non_volatile</a></div><div class="ttdeci">data_non_volatile_t data_non_volatile</div><div class="ttdoc">EEPROM data storage copy 1. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d73/a00060_source.html#l00016">srv_nov.c:16</a></div></div>
<div class="ttc" id="a00021_html_a11ed024c2cc5c53c79b2c0a8b35e3c06"><div class="ttname"><a href="../../de/d11/a00021.html#a11ed024c2cc5c53c79b2c0a8b35e3c06">logv_t::disturbance_record</a></div><div class="ttdeci">union logv_t::@4 disturbance_record</div></div>
<div class="ttc" id="a00038_html_a2e89c46668b39a17753c238950c9e1ec"><div class="ttname"><a href="../../d8/d41/a00038.html#a2e89c46668b39a17753c238950c9e1ec">logv</a></div><div class="ttdeci">logv_t logv</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d41/a00038_source.html#l00036">algorithm.c:36</a></div></div>
<div class="ttc" id="a00016_html_a16f85d57ec98b4ad05f5a2e10536b3c6"><div class="ttname"><a href="../../d7/d7a/a00016.html#a16f85d57ec98b4ad05f5a2e10536b3c6">algorithm_data_t::diagnosis</a></div><div class="ttdeci">struct algorithm_data_t::@2021 diagnosis</div></div>
<div class="ttc" id="a00016_html_a1aafd556b3c9ed3e5295b17dbd80cab8"><div class="ttname"><a href="../../d7/d7a/a00016.html#a1aafd556b3c9ed3e5295b17dbd80cab8">algorithm_data_t::irq_src</a></div><div class="ttdeci">union algorithm_data_t::@2022 irq_src</div></div>
<div class="ttc" id="a00036_html_a1732cd929c486b3a225824bb2b3dba36"><div class="ttname"><a href="../../de/d8c/a00036.html#a1732cd929c486b3a225824bb2b3dba36">X_MS2TICK</a></div><div class="ttdeci">#define X_MS2TICK(x_)</div><div class="ttdoc">Conversion of ms to OS ticks. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d8c/a00036_source.html#l00048">sys_eventx.h:48</a></div></div>
<div class="ttc" id="a00021_html_a51725fc3a4c26625f15db1274791d961"><div class="ttname"><a href="../../de/d11/a00021.html#a51725fc3a4c26625f15db1274791d961">IRQ_SOURCE_HIF_EVENT</a></div><div class="ttdeci">#define IRQ_SOURCE_HIF_EVENT</div><div class="ttdoc">internal software interrupts source identification number MIN : 0x0100 MAX : 0xFF00 ...</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d11/a00021_source.html#l00063">algorithm.h:63</a></div></div>
<div class="ttc" id="a00022_html_aa060aeb1ecb530b3c6f6d91060999b70"><div class="ttname"><a href="../../d7/de0/a00022.html#aa060aeb1ecb530b3c6f6d91060999b70">MAX_EVENT_OBSERVATION_LENGTH</a></div><div class="ttdeci">#define MAX_EVENT_OBSERVATION_LENGTH</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/de0/a00022_source.html#l00016">nov_data.h:16</a></div></div>
<div class="ttc" id="a00016_html_a57101a48bdde96a0db1ec63892095f7c"><div class="ttname"><a href="../../d7/d7a/a00016.html#a57101a48bdde96a0db1ec63892095f7c">algorithm_data_t::clear_alarm_mfield_x</a></div><div class="ttdeci">x_notify clear_alarm_mfield_x</div><div class="ttdoc">Notification message to clear alarm recognized as false positive. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d7a/a00016_source.html#l00055">algorithm_prv.h:55</a></div></div>
<div class="ttc" id="a00016_html_a5ef7ebf1a1e20f770d46232ab2be8312"><div class="ttname"><a href="../../d7/d7a/a00016.html#a5ef7ebf1a1e20f770d46232ab2be8312">algorithm_data_t::clear_alarm_ir</a></div><div class="ttdeci">x_notify clear_alarm_ir</div><div class="ttdoc">Notification message to clear alarm recognized as false positive. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d7a/a00016_source.html#l00049">algorithm_prv.h:49</a></div></div>
<div class="ttc" id="a00016_html_a410c7d83b819fa283303a53830c87a96"><div class="ttname"><a href="../../d7/d7a/a00016.html#a410c7d83b819fa283303a53830c87a96">X_MSG_CONFIGURE_EVENT</a></div><div class="ttdeci">#define X_MSG_CONFIGURE_EVENT</div><div class="ttdoc">Event id for configuration request. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d7a/a00016_source.html#l00023">algorithm_prv.h:23</a></div></div>
<div class="ttc" id="a00038_html_a183caa40cd01e79ee309cc9c4a225197"><div class="ttname"><a href="../../d8/d41/a00038.html#a183caa40cd01e79ee309cc9c4a225197">algorithm_data</a></div><div class="ttdeci">algorithm_data_t algorithm_data</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d41/a00038_source.html#l00033">algorithm.c:33</a></div></div>
<div class="ttc" id="a00036_html_adf9665938515a20c283eea2c978cf80d"><div class="ttname"><a href="../../de/d8c/a00036.html#adf9665938515a20c283eea2c978cf80d">x_event::message</a></div><div class="ttdeci">Uint16 message</div><div class="ttdoc">Internal, for OS only - event linking. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d8c/a00036_source.html#l00064">sys_eventx.h:64</a></div></div>
<div class="ttc" id="a00036_html_a9e3befaa21e83f196f74201deed85346"><div class="ttname"><a href="../../de/d8c/a00036.html#a9e3befaa21e83f196f74201deed85346">x_schedule_timer</a></div><div class="ttdeci">void x_schedule_timer(x_notify *timer, Uint16 ticks)</div><div class="ttdoc">OS timer configuration request. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dc6/a00037_source.html#l00456">sys_eventx.c:456</a></div></div>
<div class="ttc" id="a00036_html_a104f1137aafb33160da80932fe63c40d"><div class="ttname"><a href="../../de/d8c/a00036.html#a104f1137aafb33160da80932fe63c40d">X_MSG_IRQ_SYNC</a></div><div class="ttdeci">#define X_MSG_IRQ_SYNC</div><div class="ttdoc">System reserved event id - IRQ notification. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d8c/a00036_source.html#l00020">sys_eventx.h:20</a></div></div>
<div class="ttc" id="a00029_html_a90aef186f45a15d94bf0247122194991"><div class="ttname"><a href="../../d5/d16/a00029.html#a90aef186f45a15d94bf0247122194991">nov_store</a></div><div class="ttdeci">void nov_store(void)</div><div class="ttdoc">Writes NOV storage to EEPROM. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d73/a00060_source.html#l00397">srv_nov.c:397</a></div></div>
<div class="ttc" id="a00036_html_ae17b0bb16da3c471bb6074bb4c4d0fee"><div class="ttname"><a href="../../de/d8c/a00036.html#ae17b0bb16da3c471bb6074bb4c4d0fee">x_send_notify</a></div><div class="ttdeci">void x_send_notify(x_notify *notify)</div><div class="ttdoc">OS notification processing request. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dc6/a00037_source.html#l00435">sys_eventx.c:435</a></div></div>
<div class="ttc" id="a00040_html_aa8cecfc5c5c054d2875c03e77b7be15d"><div class="ttname"><a href="../../db/d3a/a00040.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a></div><div class="ttdeci">#define TRUE</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d3a/a00040_source.html#l00084">allheaders.h:84</a></div></div>
<div class="ttc" id="a00067_html_a710d148845397582739d170341f3d3d9"><div class="ttname"><a href="../../dc/ddf/a00067.html#a710d148845397582739d170341f3d3d9">srv_wdg_kick</a></div><div class="ttdeci">#define srv_wdg_kick()</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/ddf/a00067_source.html#l00028">srv_watchdog.h:28</a></div></div>
<div class="ttc" id="a00072_html_a87d38f886e617ced2698fc55afa07637"><div class="ttname"><a href="../../d6/d2c/a00072.html#a87d38f886e617ced2698fc55afa07637">Float32</a></div><div class="ttdeci">float Float32</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d2c/a00072_source.html#l00045">System.h:45</a></div></div>
<div class="ttc" id="a00023_html_a8a535456285f4602701c814d7b69cc68"><div class="ttname"><a href="../../d3/d52/a00023.html#a8a535456285f4602701c814d7b69cc68">SV_TIMER_PERIOD</a></div><div class="ttdeci">#define SV_TIMER_PERIOD</div><div class="ttdoc">Timeout. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d52/a00023_source.html#l00020">ir_sensor_prv.h:20</a></div></div>
<div class="ttc" id="a00017_html_a946f0acff4fd16a65859479e9e0b9513"><div class="ttname"><a href="../../d4/d51/a00017.html#a946f0acff4fd16a65859479e9e0b9513">FP_TOLERANCE</a></div><div class="ttdeci">#define FP_TOLERANCE</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d51/a00017_source.html#l00025">ir_sensor.h:25</a></div></div>
<div class="ttc" id="a00016_html_ae6be514b1d949dc71420a3e549772995"><div class="ttname"><a href="../../d7/d7a/a00016.html#ae6be514b1d949dc71420a3e549772995">X_MSG_WAKE_EVENT</a></div><div class="ttdeci">#define X_MSG_WAKE_EVENT</div><div class="ttdoc">Event id for wakeing main task. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d7a/a00016_source.html#l00020">algorithm_prv.h:20</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d8/d41/a00038_a1d182ae18a9176c2a1e28cc654dc0e43_cgraph.png" border="0" usemap="#d8/d41/a00038_a1d182ae18a9176c2a1e28cc654dc0e43_cgraph" alt=""/></div>
<map name="d8/d41/a00038_a1d182ae18a9176c2a1e28cc654dc0e43_cgraph" id="d8/d41/a00038_a1d182ae18a9176c2a1e28cc654dc0e43_cgraph">
<area shape="rect" id="node2" href="../../d5/d16/a00029.html#a90aef186f45a15d94bf0247122194991" title="Writes NOV storage to EEPROM. " alt="" coords="191,5,269,32"/><area shape="rect" id="node3" href="../../de/d8c/a00036.html#ab69e9af4cfa717e870d587906283635c" title="OS timer delete request. " alt="" coords="177,56,283,83"/><area shape="rect" id="node4" href="../../de/d8c/a00036.html#a9e3befaa21e83f196f74201deed85346" title="OS timer configuration request. " alt="" coords="168,107,292,133"/><area shape="rect" id="node5" href="../../de/d8c/a00036.html#ae17b0bb16da3c471bb6074bb4c4d0fee" title="OS notification processing request. " alt="" coords="179,157,281,184"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d8/d41/a00038_a1d182ae18a9176c2a1e28cc654dc0e43_icgraph.png" border="0" usemap="#d8/d41/a00038_a1d182ae18a9176c2a1e28cc654dc0e43_icgraph" alt=""/></div>
<map name="d8/d41/a00038_a1d182ae18a9176c2a1e28cc654dc0e43_icgraph" id="d8/d41/a00038_a1d182ae18a9176c2a1e28cc654dc0e43_icgraph">
<area shape="rect" id="node2" href="../../d4/dca/a00048.html#a840291bc02cba5474a4cb46a9b9566fe" title="System startup function. " alt="" coords="168,5,219,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a42ed16c7ef20e0c0031fe7ba7ae377b3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void algorithm_wake </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d6/d2c/a00072.html#af84840501dec18061d18a68c162a8fa2">Uint8</a>&#160;</td>
          <td class="paramname"><em>event</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Main processing loop for algorithm module. </p>
<p>Processes events by examining bitfields for various notification reasons. </p>
<p>more than 80% correlation is considered as strong similarity</p>
<p>After a valid trip, disturbance recorder data will be will be saved to the memory address allocated for this purpose. The process will take some time depending on the size of the data. Hence, delay counter will be armed so as to transfer the data to non volatile memory when ready.</p>
<p>disturbance record data ready, low priority function will be used, to transfer the data to non volatile memory.</p>
<p>reset emulation trip for comunication purpose </p>

<p>Definition at line <a class="el" href="../../d8/d41/a00038_source.html#l00670">670</a> of file <a class="el" href="../../d8/d41/a00038_source.html">algorithm.c</a>.</p>

<p>References <a class="el" href="../../d8/d41/a00038_source.html#l02104">algorithm_message_arrived_ntf_isr()</a>, <a class="el" href="../../d6/d2c/a00072_source.html#l00059">ASSERT</a>, <a class="el" href="../../d9/d73/a00060_source.html#l00016">data_non_volatile</a>, <a class="el" href="../../d7/d7a/a00016.html#a16f85d57ec98b4ad05f5a2e10536b3c6">algorithm_data_t::diagnosis</a>, <a class="el" href="../../de/d11/a00021.html#a11ed024c2cc5c53c79b2c0a8b35e3c06">logv_t::disturbance_record</a>, <a class="el" href="../../de/d11/a00021_source.html#l00071">DR_RECHECK</a>, <a class="el" href="../../de/d11/a00021_source.html#l00075">DR_RECHECK_TIME</a>, <a class="el" href="../../db/df3/a00034.html#a742dceaef1f19ec73ed5acc066127476">srv_hwio_data_t::emulation_mode</a>, <a class="el" href="../../de/d11/a00021_source.html#l00073">EVENT_CLEARED</a>, <a class="el" href="../../de/d11/a00021_source.html#l00069">EVENT_SV_ALARM</a>, <a class="el" href="../../db/d3a/a00040_source.html#l00086">FALSE</a>, <a class="el" href="../../d4/d51/a00017_source.html#l00022">HIF</a>, <a class="el" href="../../de/d11/a00021_source.html#l00153">HOT</a>, <a class="el" href="../../d7/df7/a00058_source.html#l00043">HWIO_ALARM_OFF</a>, <a class="el" href="../../d7/df7/a00058_source.html#l00042">HWIO_ALARM_ON</a>, <a class="el" href="../../d9/d2e/a00056_source.html#l00272">hwio_execute_gpio_task()</a>, <a class="el" href="../../d6/d97/a00045_source.html#l01152">ir_record_reset()</a>, <a class="el" href="../../d6/d97/a00045_source.html#l01100">ir_sen_hif_check()</a>, <a class="el" href="../../d0/dc0/a00033_source.html#l00017">IRQ_CTX_T</a>, <a class="el" href="../../d0/dc0/a00033_source.html#l00020">IRQ_DISABLE</a>, <a class="el" href="../../de/d11/a00021_source.html#l00064">IRQ_DR_READY</a>, <a class="el" href="../../d0/dc0/a00033_source.html#l00025">IRQ_ENABLE</a>, <a class="el" href="../../de/d11/a00021_source.html#l00063">IRQ_SOURCE_HIF_EVENT</a>, <a class="el" href="../../d7/d7a/a00016.html#a293140e240bbd54f7601adbc9194148c">algorithm_data_t::modules_state_sv</a>, <a class="el" href="../../d9/d73/a00060_source.html#l00397">nov_store()</a>, <a class="el" href="../../d9/d2e/a00056_source.html#l00013">srv_hwio_data</a>, <a class="el" href="../../de/d11/a00021_source.html#l00149">STATE_0</a>, <a class="el" href="../../de/d11/a00021.html#a854b8f967c206a5f3e4aeaf91a782b3e">logv_t::sv_delay</a>, <a class="el" href="../../de/d11/a00021_source.html#l00247">logv_t::tick</a>, <a class="el" href="../../de/d11/a00021_source.html#l00248">logv_t::trip_active</a>, <a class="el" href="../../db/d3a/a00040_source.html#l00084">TRUE</a>, <a class="el" href="../../d7/d7a/a00016_source.html#l00032">TYPE_IR_MF</a>, <a class="el" href="../../d7/d7a/a00016_source.html#l00033">TYPE_IR_MF_UV</a>, and <a class="el" href="../../de/d11/a00021_source.html#l00249">logv_t::wr</a>.</p>

<p>Referenced by <a class="el" href="../../dd/d32/a00041_source.html#l00025">__attribute__()</a>, and <a class="el" href="../../d8/d41/a00038_source.html#l02006">algorithm_notifyx()</a>.</p>
<div class="fragment"><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;{</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;    <a class="code" href="../../d6/d2c/a00072.html#a253b248072cfc8bd812c69acd0046eed">Bool</a> result = <a class="code" href="../../db/d3a/a00040.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;    <span class="keywordflow">if</span>((event == <a class="code" href="../../de/d11/a00021.html#a0cec8cae6d70499e62b4251e5843497d">EVENT_SV_ALARM</a>)&amp;&amp;(<a class="code" href="../../d8/d41/a00038.html#a2e89c46668b39a17753c238950c9e1ec">logv</a>.<a class="code" href="../../de/d11/a00021.html#a32ebd32977bc9831cd68530b2b7ec664">trip_active</a> == <a class="code" href="../../db/d3a/a00040.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>)){</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;        <span class="keywordflow">if</span>(<a class="code" href="../../d8/d41/a00038.html#a183caa40cd01e79ee309cc9c4a225197">algorithm_data</a>.<a class="code" href="../../d7/d7a/a00016.html#a293140e240bbd54f7601adbc9194148c">modules_state_sv</a>.ir_sen.fields.state == <a class="code" href="../../de/d11/a00021.html#a1eb14cc432874ddacd1934791dbe12a3">HOT</a>){</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;        <span class="keywordflow">switch</span>(<a class="code" href="../../d9/d73/a00060.html#a76ac5f917f5308dcd83de0d7c94559fb">data_non_volatile</a>.device_data.installation.trip_criteria.criterion.all)</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;        {</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;                 <span class="keywordflow">case</span>  <a class="code" href="../../d7/d7a/a00016.html#a78bbb321092eab3b988cf0c89bf0a572">TYPE_IR_MF</a>:</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;                {</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;                      <span class="keywordflow">if</span>(</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;                          </div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;                           (<a class="code" href="../../d8/d41/a00038.html#a183caa40cd01e79ee309cc9c4a225197">algorithm_data</a>.<a class="code" href="../../d7/d7a/a00016.html#a293140e240bbd54f7601adbc9194148c">modules_state_sv</a>.mfield_x_sen.fields.state == <a class="code" href="../../de/d11/a00021.html#a1eb14cc432874ddacd1934791dbe12a3">HOT</a>)                         </div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;                            &amp;&amp;</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;                           (<a class="code" href="../../d8/d41/a00038.html#a183caa40cd01e79ee309cc9c4a225197">algorithm_data</a>.<a class="code" href="../../d7/d7a/a00016.html#a293140e240bbd54f7601adbc9194148c">modules_state_sv</a>.uv_sen.fields.state &gt; <a class="code" href="../../de/d11/a00021.html#ad6739dbbe5581cac99b7dc8a5e09949c">STATE_0</a>)</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;                           )</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;                                result = <a class="code" href="../../db/d3a/a00040.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;                       <span class="keywordflow">else</span></div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;                       <span class="keywordflow">if</span>(<a class="code" href="../../d4/d51/a00017.html#a86870a0e00601a92277e689447739ce9">ir_sen_hif_check</a>() &gt; 2)</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;                        result = <a class="code" href="../../db/d3a/a00040.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;                }<span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;                 <span class="keywordflow">case</span>  <a class="code" href="../../d7/d7a/a00016.html#a88096870f430e03f71e1f390c67f09ce">TYPE_IR_MF_UV</a>:</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;                {</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;                   <span class="keywordflow">if</span>(</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;                        (<a class="code" href="../../d8/d41/a00038.html#a183caa40cd01e79ee309cc9c4a225197">algorithm_data</a>.<a class="code" href="../../d7/d7a/a00016.html#a293140e240bbd54f7601adbc9194148c">modules_state_sv</a>.mfield_x_sen.fields.state == <a class="code" href="../../de/d11/a00021.html#a1eb14cc432874ddacd1934791dbe12a3">HOT</a>)</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;                        &amp;&amp;</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;                        (<a class="code" href="../../d8/d41/a00038.html#a183caa40cd01e79ee309cc9c4a225197">algorithm_data</a>.<a class="code" href="../../d7/d7a/a00016.html#a293140e240bbd54f7601adbc9194148c">modules_state_sv</a>.uv_sen.fields.state == <a class="code" href="../../de/d11/a00021.html#a1eb14cc432874ddacd1934791dbe12a3">HOT</a>)</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;                        )</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;                            result = <a class="code" href="../../db/d3a/a00040.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;                       <span class="keywordflow">else</span> <span class="keywordflow">if</span>((<a class="code" href="../../d8/d41/a00038.html#a183caa40cd01e79ee309cc9c4a225197">algorithm_data</a>.<a class="code" href="../../d7/d7a/a00016.html#a293140e240bbd54f7601adbc9194148c">modules_state_sv</a>.uv_sen.fields.state == <a class="code" href="../../de/d11/a00021.html#a1eb14cc432874ddacd1934791dbe12a3">HOT</a>))</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;                       {</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;                                       <span class="keywordflow">if</span>(<a class="code" href="../../d8/d41/a00038.html#a183caa40cd01e79ee309cc9c4a225197">algorithm_data</a>.<a class="code" href="../../d7/d7a/a00016.html#a16f85d57ec98b4ad05f5a2e10536b3c6">diagnosis</a>.hif.flags.processing == 1){</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;                                           <span class="keywordflow">if</span>(<a class="code" href="../../d8/d41/a00038.html#a183caa40cd01e79ee309cc9c4a225197">algorithm_data</a>.<a class="code" href="../../d7/d7a/a00016.html#a16f85d57ec98b4ad05f5a2e10536b3c6">diagnosis</a>.hif.flags.ready  == <a class="code" href="../../db/d3a/a00040.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>){</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;                                                <span class="keywordflow">if</span>(<a class="code" href="../../d8/d41/a00038.html#a183caa40cd01e79ee309cc9c4a225197">algorithm_data</a>.<a class="code" href="../../d7/d7a/a00016.html#a16f85d57ec98b4ad05f5a2e10536b3c6">diagnosis</a>.hif.flags.result == <a class="code" href="../../db/d3a/a00040.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>)</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;                                                {</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;                                                        <a class="code" href="../../d8/d41/a00038.html#a183caa40cd01e79ee309cc9c4a225197">algorithm_data</a>.<a class="code" href="../../d7/d7a/a00016.html#a16f85d57ec98b4ad05f5a2e10536b3c6">diagnosis</a>.hif.flags.processing = 0;</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;                                                        <a class="code" href="../../d4/d51/a00017.html#a1c9872e93491d95a24ab0bc723d39a74">ir_record_reset</a>(<a class="code" href="../../d4/d51/a00017.html#aaa1c1ffe30eff38b979b1af9d4e4ef19">HIF</a>);</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;                                                        <span class="keywordflow">if</span>((<a class="code" href="../../d8/d41/a00038.html#a183caa40cd01e79ee309cc9c4a225197">algorithm_data</a>.<a class="code" href="../../d7/d7a/a00016.html#a293140e240bbd54f7601adbc9194148c">modules_state_sv</a>.uv_sen.fields.state == <a class="code" href="../../de/d11/a00021.html#a1eb14cc432874ddacd1934791dbe12a3">HOT</a>))</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;                                                        result = <a class="code" href="../../db/d3a/a00040.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;                                                }</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;                                              <span class="keywordflow">else</span></div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;                                                {</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;                                                    <a class="code" href="../../d8/d41/a00038.html#a183caa40cd01e79ee309cc9c4a225197">algorithm_data</a>.<a class="code" href="../../d7/d7a/a00016.html#a16f85d57ec98b4ad05f5a2e10536b3c6">diagnosis</a>.hif.flags.processing = 0;</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;                                                    <a class="code" href="../../d4/d51/a00017.html#a1c9872e93491d95a24ab0bc723d39a74">ir_record_reset</a>(<a class="code" href="../../d4/d51/a00017.html#aaa1c1ffe30eff38b979b1af9d4e4ef19">HIF</a>);</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;                                                    algorithm_data_mark_false_postives();</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;                                                }</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;                                          }</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;                                     }</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;                                     <span class="keywordflow">else</span></div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;                                     {</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;                                               <span class="keywordflow">if</span>((<a class="code" href="../../d4/d51/a00017.html#a86870a0e00601a92277e689447739ce9">ir_sen_hif_check</a>() &gt; 0))</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;                                               {</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;                                                   <a class="code" href="../../d8/d41/a00038.html#a183caa40cd01e79ee309cc9c4a225197">algorithm_data</a>.<a class="code" href="../../d7/d7a/a00016.html#a16f85d57ec98b4ad05f5a2e10536b3c6">diagnosis</a>.hif.all = 0;</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;                                                   <a class="code" href="../../d8/d41/a00038.html#a183caa40cd01e79ee309cc9c4a225197">algorithm_data</a>.<a class="code" href="../../d7/d7a/a00016.html#a16f85d57ec98b4ad05f5a2e10536b3c6">diagnosis</a>.hif.flags.processing = 1;</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;                                                       <span class="comment">//linear correlation function requires about 200us to return,</span></div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;                                                       <span class="comment">//therefore,low priority function will be used to execute this procedure</span></div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;                                                        <a class="code" href="../../d8/d41/a00038.html#a85471d58eae93d5d7e7e2b52e2b915d3">algorithm_message_arrived_ntf_isr</a>(<a class="code" href="../../de/d11/a00021.html#a51725fc3a4c26625f15db1274791d961">IRQ_SOURCE_HIF_EVENT</a>);</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;                                                        <span class="comment">//TODO:clear all timers</span></div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;                                               }</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;                                    }</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;                      }<span class="keywordflow">else</span></div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;                          algorithm_data_mark_false_postives();</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;                }<span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;                 <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;                {</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;                      <span class="keywordflow">if</span>(</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;                        (<a class="code" href="../../d8/d41/a00038.html#a183caa40cd01e79ee309cc9c4a225197">algorithm_data</a>.<a class="code" href="../../d7/d7a/a00016.html#a293140e240bbd54f7601adbc9194148c">modules_state_sv</a>.mfield_x_sen.fields.state == <a class="code" href="../../de/d11/a00021.html#a1eb14cc432874ddacd1934791dbe12a3">HOT</a>)</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;                        &amp;&amp;</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;                        (<a class="code" href="../../d8/d41/a00038.html#a183caa40cd01e79ee309cc9c4a225197">algorithm_data</a>.<a class="code" href="../../d7/d7a/a00016.html#a293140e240bbd54f7601adbc9194148c">modules_state_sv</a>.uv_sen.fields.state == <a class="code" href="../../de/d11/a00021.html#a1eb14cc432874ddacd1934791dbe12a3">HOT</a>)</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;                        )</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;                            result = <a class="code" href="../../db/d3a/a00040.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;                       <span class="keywordflow">else</span> <span class="keywordflow">if</span>((<a class="code" href="../../d8/d41/a00038.html#a183caa40cd01e79ee309cc9c4a225197">algorithm_data</a>.<a class="code" href="../../d7/d7a/a00016.html#a293140e240bbd54f7601adbc9194148c">modules_state_sv</a>.uv_sen.fields.state == <a class="code" href="../../de/d11/a00021.html#a1eb14cc432874ddacd1934791dbe12a3">HOT</a>))</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;                       {</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;                           <a class="code" href="../../d8/d41/a00038.html#a183caa40cd01e79ee309cc9c4a225197">algorithm_data</a>.<a class="code" href="../../d7/d7a/a00016.html#a16f85d57ec98b4ad05f5a2e10536b3c6">diagnosis</a>.hif_checklist.all = <a class="code" href="../../d4/d51/a00017.html#a86870a0e00601a92277e689447739ce9">ir_sen_hif_check</a>();</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;                           <span class="keywordflow">if</span>((<a class="code" href="../../d8/d41/a00038.html#a183caa40cd01e79ee309cc9c4a225197">algorithm_data</a>.<a class="code" href="../../d7/d7a/a00016.html#a16f85d57ec98b4ad05f5a2e10536b3c6">diagnosis</a>.hif_checklist.all &gt; 0))</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;                           {</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;                               <a class="code" href="../../d0/dc0/a00033.html#a6d4f0a7397640f5b011ca9c39d47dc72">IRQ_CTX_T</a>   irq_ctx;</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;                               <a class="code" href="../../d0/dc0/a00033.html#a357168bbe78739811cdb7b5576714ca6">IRQ_DISABLE</a>(irq_ctx);</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;                                 <a class="code" href="../../d6/d2c/a00072.html#a87d38f886e617ced2698fc55afa07637">Float32</a> correlation_result = algorithm_liner_correlation(&amp;<a class="code" href="../../d9/d73/a00060.html#a76ac5f917f5308dcd83de0d7c94559fb">data_non_volatile</a>.disturbance_record.hif_diagonesis_records,<a class="code" href="../../d7/de0/a00022.html#aa060aeb1ecb530b3c6f6d91060999b70">MAX_EVENT_OBSERVATION_LENGTH</a>);</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;                               <a class="code" href="../../d0/dc0/a00033.html#abc8e0f43382f8b0fdf60d35a93c20c57">IRQ_ENABLE</a>(irq_ctx);</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;                               </div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;                               <span class="comment">//linear correlation function requires about 236us to return,with 60MIP</span></div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;                               <span class="comment">//therefore,we update global tick by 2 sample time</span></div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;                               <a class="code" href="../../d8/d41/a00038.html#a2e89c46668b39a17753c238950c9e1ec">logv</a>.<a class="code" href="../../de/d11/a00021.html#a81f0ce68c2c483fb8df726cc1988d8e8">tick</a> +=2;</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;                                 <span class="keywordflow">if</span>(correlation_result &gt;= 80){</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;                                     result = <a class="code" href="../../db/d3a/a00040.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;                                 }</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;                                 <span class="keywordflow">else</span></div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;                                 <span class="keywordflow">if</span></div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;                                 (</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;                                 (correlation_result &gt; 50)</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;                                 &amp;&amp;</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;                                 <a class="code" href="../../d8/d41/a00038.html#a183caa40cd01e79ee309cc9c4a225197">algorithm_data</a>.<a class="code" href="../../d7/d7a/a00016.html#a16f85d57ec98b4ad05f5a2e10536b3c6">diagnosis</a>.hif_checklist.bits.itoi</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;                                 &amp;&amp;</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;                                 <a class="code" href="../../d8/d41/a00038.html#a183caa40cd01e79ee309cc9c4a225197">algorithm_data</a>.<a class="code" href="../../d7/d7a/a00016.html#a16f85d57ec98b4ad05f5a2e10536b3c6">diagnosis</a>.hif_checklist.bits.ptop</div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;                                 )</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;                                {</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;                                  result = <a class="code" href="../../db/d3a/a00040.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;                                }</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;                                 <span class="keywordflow">else</span></div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;                                algorithm_data_mark_false_postives();</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;                               <a class="code" href="../../d9/d73/a00060.html#a76ac5f917f5308dcd83de0d7c94559fb">data_non_volatile</a>.disturbance_record.hif_diagonesis_records.head = 0;</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;                               <a class="code" href="../../d9/d73/a00060.html#a76ac5f917f5308dcd83de0d7c94559fb">data_non_volatile</a>.disturbance_record.hif_diagonesis_records.mean_value = 0;</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;                           }</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;                                    </div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;                      }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code" href="../../d8/d41/a00038.html#a183caa40cd01e79ee309cc9c4a225197">algorithm_data</a>.<a class="code" href="../../d7/d7a/a00016.html#a293140e240bbd54f7601adbc9194148c">modules_state_sv</a>.mfield_x_sen.fields.state == <a class="code" href="../../de/d11/a00021.html#ad6739dbbe5581cac99b7dc8a5e09949c">STATE_0</a>){</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;                            algorithm_data_mark_false_postives();</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;                      } </div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;                       </div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;                }<span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;        }</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;</div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;        }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code" href="../../d8/d41/a00038.html#a183caa40cd01e79ee309cc9c4a225197">algorithm_data</a>.<a class="code" href="../../d7/d7a/a00016.html#a293140e240bbd54f7601adbc9194148c">modules_state_sv</a>.mfield_x_sen.fields.state == <a class="code" href="../../de/d11/a00021.html#ad6739dbbe5581cac99b7dc8a5e09949c">STATE_0</a>){</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;            <span class="keywordflow">if</span>(<a class="code" href="../../d8/d41/a00038.html#a183caa40cd01e79ee309cc9c4a225197">algorithm_data</a>.<a class="code" href="../../d7/d7a/a00016.html#a293140e240bbd54f7601adbc9194148c">modules_state_sv</a>.uv_sen.fields.state == <a class="code" href="../../de/d11/a00021.html#a1eb14cc432874ddacd1934791dbe12a3">HOT</a>)</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;            algorithm_data_mark_false_postives();</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;        }</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;        </div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;        </div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;        </div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;</div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;        <span class="keywordflow">if</span>(result == <a class="code" href="../../db/d3a/a00040.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>){</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;            <a class="code" href="../../d7/df7/a00058.html#a0af9eae455fbdf4e77def5bfffa109cb">hwio_execute_gpio_task</a>(<a class="code" href="../../d7/df7/a00058.html#abcbef2f48463bed54ae1c045303dbab8">HWIO_ALARM_ON</a>);</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;            <a class="code" href="../../d8/d41/a00038.html#a2e89c46668b39a17753c238950c9e1ec">logv</a>.<a class="code" href="../../de/d11/a00021.html#a32ebd32977bc9831cd68530b2b7ec664">trip_active</a>   = <a class="code" href="../../db/d3a/a00040.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;             <a class="code" href="../../d8/d41/a00038.html#a2e89c46668b39a17753c238950c9e1ec">logv</a>.<a class="code" href="../../de/d11/a00021.html#a11ed024c2cc5c53c79b2c0a8b35e3c06">disturbance_record</a>.bits.<a class="code" href="../../de/d11/a00021.html#a11ea0eda9ab27873198e7a5c4be4337d">wr</a> = <a class="code" href="../../db/d3a/a00040.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;            memset(&amp;<a class="code" href="../../d8/d41/a00038.html#a183caa40cd01e79ee309cc9c4a225197">algorithm_data</a>.<a class="code" href="../../d7/d7a/a00016.html#a16f85d57ec98b4ad05f5a2e10536b3c6">diagnosis</a>.false_alarm,0,<span class="keyword">sizeof</span>(<a class="code" href="../../d8/d41/a00038.html#a183caa40cd01e79ee309cc9c4a225197">algorithm_data</a>.<a class="code" href="../../d7/d7a/a00016.html#a16f85d57ec98b4ad05f5a2e10536b3c6">diagnosis</a>.false_alarm));</div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;            <a class="code" href="../../d8/d41/a00038.html#a2e89c46668b39a17753c238950c9e1ec">logv</a>.<a class="code" href="../../de/d11/a00021.html#a854b8f967c206a5f3e4aeaf91a782b3e">sv_delay</a>.set  = <a class="code" href="../../db/d3a/a00040.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;            <a class="code" href="../../d8/d41/a00038.html#a2e89c46668b39a17753c238950c9e1ec">logv</a>.<a class="code" href="../../de/d11/a00021.html#a854b8f967c206a5f3e4aeaf91a782b3e">sv_delay</a>.cnt  = <a class="code" href="../../de/d11/a00021.html#afb154043998a164232751d1c030e8650">DR_RECHECK_TIME</a>;</div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;            <a class="code" href="../../d8/d41/a00038.html#a2e89c46668b39a17753c238950c9e1ec">logv</a>.<a class="code" href="../../de/d11/a00021.html#a854b8f967c206a5f3e4aeaf91a782b3e">sv_delay</a>.type = <a class="code" href="../../de/d11/a00021.html#a6e67f9a00e51668436c0395616f43e88">DR_RECHECK</a>;</div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;</div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;        }</div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;        </div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;    }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(event == <a class="code" href="../../de/d11/a00021.html#a602c125746b241f3a37e9fd5f43412b0">EVENT_CLEARED</a>){</div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;</div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;          <a class="code" href="../../d7/df7/a00058.html#a0af9eae455fbdf4e77def5bfffa109cb">hwio_execute_gpio_task</a>(<a class="code" href="../../d7/df7/a00058.html#a17401c2732dee3a19b55a210870b6d8d">HWIO_ALARM_OFF</a>);</div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;          <a class="code" href="../../d8/d41/a00038.html#a2e89c46668b39a17753c238950c9e1ec">logv</a>.<a class="code" href="../../de/d11/a00021.html#a32ebd32977bc9831cd68530b2b7ec664">trip_active</a>   = <a class="code" href="../../db/d3a/a00040.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;          </div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;    }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(event == <a class="code" href="../../de/d11/a00021.html#a6e67f9a00e51668436c0395616f43e88">DR_RECHECK</a>){</div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;                    </div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;            <span class="keywordflow">if</span>(</div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;              (<a class="code" href="../../d8/d41/a00038.html#a183caa40cd01e79ee309cc9c4a225197">algorithm_data</a>.<a class="code" href="../../d7/d7a/a00016.html#a293140e240bbd54f7601adbc9194148c">modules_state_sv</a>.ir_sen.fields.post_act_data_ready == <a class="code" href="../../db/d3a/a00040.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>)</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;             ){</div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;           <a class="code" href="../../d9/d73/a00060.html#a76ac5f917f5308dcd83de0d7c94559fb">data_non_volatile</a>.disturbance_record.new_dr = <a class="code" href="../../db/d3a/a00040.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;           <a class="code" href="../../d8/d41/a00038.html#a2e89c46668b39a17753c238950c9e1ec">logv</a>.<a class="code" href="../../de/d11/a00021.html#a11ed024c2cc5c53c79b2c0a8b35e3c06">disturbance_record</a>.bits.<a class="code" href="../../de/d11/a00021.html#a11ea0eda9ab27873198e7a5c4be4337d">wr</a> = <a class="code" href="../../db/d3a/a00040.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;       <a class="code" href="../../d8/d41/a00038.html#a85471d58eae93d5d7e7e2b52e2b915d3">algorithm_message_arrived_ntf_isr</a>(<a class="code" href="../../de/d11/a00021.html#acfd80444497090bce928df199247a0ec">IRQ_DR_READY</a>);</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;           <span class="keywordflow">if</span>(<a class="code" href="../../db/df3/a00034.html#a0fd91014631926f362c7c2b2f5d143b0">srv_hwio_data</a>.<a class="code" href="../../db/df3/a00034.html#a742dceaef1f19ec73ed5acc066127476">emulation_mode</a>.enabled.all != 0)</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;               <a class="code" href="../../db/df3/a00034.html#a0fd91014631926f362c7c2b2f5d143b0">srv_hwio_data</a>.<a class="code" href="../../db/df3/a00034.html#a742dceaef1f19ec73ed5acc066127476">emulation_mode</a>.enabled.all = 0;</div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;</div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;</div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;       }</div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;       <span class="keywordflow">else</span></div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;          <a class="code" href="../../d6/d2c/a00072.html#abb8ff8e213ac9f6fb21d2b968583b936">ASSERT</a>(0);</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;</div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;            <a class="code" href="../../d8/d41/a00038.html#a2e89c46668b39a17753c238950c9e1ec">logv</a>.<a class="code" href="../../de/d11/a00021.html#a854b8f967c206a5f3e4aeaf91a782b3e">sv_delay</a>.set  = <a class="code" href="../../db/d3a/a00040.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;            <a class="code" href="../../d8/d41/a00038.html#a2e89c46668b39a17753c238950c9e1ec">logv</a>.<a class="code" href="../../de/d11/a00021.html#a854b8f967c206a5f3e4aeaf91a782b3e">sv_delay</a>.cnt  = 0;</div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;            <a class="code" href="../../d8/d41/a00038.html#a2e89c46668b39a17753c238950c9e1ec">logv</a>.<a class="code" href="../../de/d11/a00021.html#a854b8f967c206a5f3e4aeaf91a782b3e">sv_delay</a>.type = 0;</div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;</div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;       </div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;</div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;    }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(event == 0<span class="comment">/*internal event*/</span>){</div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;</div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;<span class="preprocessor">#if(DEVICE == AQ0X_V1)</span></div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="../../d9/d73/a00060.html#a76ac5f917f5308dcd83de0d7c94559fb">data_non_volatile</a>.device_data.sv_record.system_error_flags.bits.power_supply == <a class="code" href="../../db/d3a/a00040.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>)</div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;       <a class="code" href="../../d5/d16/a00029.html#a90aef186f45a15d94bf0247122194991">nov_store</a>();</div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;</div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;      </div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;    }</div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;</div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;}</div>
<div class="ttc" id="a00058_html_a17401c2732dee3a19b55a210870b6d8d"><div class="ttname"><a href="../../d7/df7/a00058.html#a17401c2732dee3a19b55a210870b6d8d">HWIO_ALARM_OFF</a></div><div class="ttdeci">#define HWIO_ALARM_OFF</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/df7/a00058_source.html#l00043">srv_hwio.h:43</a></div></div>
<div class="ttc" id="a00058_html_abcbef2f48463bed54ae1c045303dbab8"><div class="ttname"><a href="../../d7/df7/a00058.html#abcbef2f48463bed54ae1c045303dbab8">HWIO_ALARM_ON</a></div><div class="ttdeci">#define HWIO_ALARM_ON</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/df7/a00058_source.html#l00042">srv_hwio.h:42</a></div></div>
<div class="ttc" id="a00021_html_a32ebd32977bc9831cd68530b2b7ec664"><div class="ttname"><a href="../../de/d11/a00021.html#a32ebd32977bc9831cd68530b2b7ec664">logv_t::trip_active</a></div><div class="ttdeci">Bool trip_active</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d11/a00021_source.html#l00248">algorithm.h:248</a></div></div>
<div class="ttc" id="a00072_html_abb8ff8e213ac9f6fb21d2b968583b936"><div class="ttname"><a href="../../d6/d2c/a00072.html#abb8ff8e213ac9f6fb21d2b968583b936">ASSERT</a></div><div class="ttdeci">#define ASSERT(c_)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d2c/a00072_source.html#l00059">System.h:59</a></div></div>
<div class="ttc" id="a00016_html_a293140e240bbd54f7601adbc9194148c"><div class="ttname"><a href="../../d7/d7a/a00016.html#a293140e240bbd54f7601adbc9194148c">algorithm_data_t::modules_state_sv</a></div><div class="ttdeci">struct algorithm_data_t::@2020 modules_state_sv</div><div class="ttdoc">module status collected evey 100us interval </div></div>
<div class="ttc" id="a00033_html_a6d4f0a7397640f5b011ca9c39d47dc72"><div class="ttname"><a href="../../d0/dc0/a00033.html#a6d4f0a7397640f5b011ca9c39d47dc72">IRQ_CTX_T</a></div><div class="ttdeci">#define IRQ_CTX_T</div><div class="ttdoc">Interrupt save context. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dc0/a00033_source.html#l00017">main.h:17</a></div></div>
<div class="ttc" id="a00021_html_acfd80444497090bce928df199247a0ec"><div class="ttname"><a href="../../de/d11/a00021.html#acfd80444497090bce928df199247a0ec">IRQ_DR_READY</a></div><div class="ttdeci">#define IRQ_DR_READY</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d11/a00021_source.html#l00064">algorithm.h:64</a></div></div>
<div class="ttc" id="a00021_html_a6e67f9a00e51668436c0395616f43e88"><div class="ttname"><a href="../../de/d11/a00021.html#a6e67f9a00e51668436c0395616f43e88">DR_RECHECK</a></div><div class="ttdeci">#define DR_RECHECK</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d11/a00021_source.html#l00071">algorithm.h:71</a></div></div>
<div class="ttc" id="a00034_html_a0fd91014631926f362c7c2b2f5d143b0"><div class="ttname"><a href="../../db/df3/a00034.html#a0fd91014631926f362c7c2b2f5d143b0">srv_hwio_data</a></div><div class="ttdeci">srv_hwio_data_t srv_hwio_data</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d2e/a00056_source.html#l00013">srv_hwio.c:13</a></div></div>
<div class="ttc" id="a00060_html_a76ac5f917f5308dcd83de0d7c94559fb"><div class="ttname"><a href="../../d9/d73/a00060.html#a76ac5f917f5308dcd83de0d7c94559fb">data_non_volatile</a></div><div class="ttdeci">data_non_volatile_t data_non_volatile</div><div class="ttdoc">EEPROM data storage copy 1. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d73/a00060_source.html#l00016">srv_nov.c:16</a></div></div>
<div class="ttc" id="a00021_html_a11ed024c2cc5c53c79b2c0a8b35e3c06"><div class="ttname"><a href="../../de/d11/a00021.html#a11ed024c2cc5c53c79b2c0a8b35e3c06">logv_t::disturbance_record</a></div><div class="ttdeci">union logv_t::@4 disturbance_record</div></div>
<div class="ttc" id="a00038_html_a2e89c46668b39a17753c238950c9e1ec"><div class="ttname"><a href="../../d8/d41/a00038.html#a2e89c46668b39a17753c238950c9e1ec">logv</a></div><div class="ttdeci">logv_t logv</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d41/a00038_source.html#l00036">algorithm.c:36</a></div></div>
<div class="ttc" id="a00016_html_a16f85d57ec98b4ad05f5a2e10536b3c6"><div class="ttname"><a href="../../d7/d7a/a00016.html#a16f85d57ec98b4ad05f5a2e10536b3c6">algorithm_data_t::diagnosis</a></div><div class="ttdeci">struct algorithm_data_t::@2021 diagnosis</div></div>
<div class="ttc" id="a00021_html_a81f0ce68c2c483fb8df726cc1988d8e8"><div class="ttname"><a href="../../de/d11/a00021.html#a81f0ce68c2c483fb8df726cc1988d8e8">logv_t::tick</a></div><div class="ttdeci">Uint32 tick</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d11/a00021_source.html#l00247">algorithm.h:247</a></div></div>
<div class="ttc" id="a00021_html_a51725fc3a4c26625f15db1274791d961"><div class="ttname"><a href="../../de/d11/a00021.html#a51725fc3a4c26625f15db1274791d961">IRQ_SOURCE_HIF_EVENT</a></div><div class="ttdeci">#define IRQ_SOURCE_HIF_EVENT</div><div class="ttdoc">internal software interrupts source identification number MIN : 0x0100 MAX : 0xFF00 ...</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d11/a00021_source.html#l00063">algorithm.h:63</a></div></div>
<div class="ttc" id="a00022_html_aa060aeb1ecb530b3c6f6d91060999b70"><div class="ttname"><a href="../../d7/de0/a00022.html#aa060aeb1ecb530b3c6f6d91060999b70">MAX_EVENT_OBSERVATION_LENGTH</a></div><div class="ttdeci">#define MAX_EVENT_OBSERVATION_LENGTH</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/de0/a00022_source.html#l00016">nov_data.h:16</a></div></div>
<div class="ttc" id="a00038_html_a183caa40cd01e79ee309cc9c4a225197"><div class="ttname"><a href="../../d8/d41/a00038.html#a183caa40cd01e79ee309cc9c4a225197">algorithm_data</a></div><div class="ttdeci">algorithm_data_t algorithm_data</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d41/a00038_source.html#l00033">algorithm.c:33</a></div></div>
<div class="ttc" id="a00033_html_a357168bbe78739811cdb7b5576714ca6"><div class="ttname"><a href="../../d0/dc0/a00033.html#a357168bbe78739811cdb7b5576714ca6">IRQ_DISABLE</a></div><div class="ttdeci">#define IRQ_DISABLE(save_sr)</div><div class="ttdoc">Global IRQ disable. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dc0/a00033_source.html#l00020">main.h:20</a></div></div>
<div class="ttc" id="a00021_html_ad6739dbbe5581cac99b7dc8a5e09949c"><div class="ttname"><a href="../../de/d11/a00021.html#ad6739dbbe5581cac99b7dc8a5e09949c">STATE_0</a></div><div class="ttdeci">#define STATE_0</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d11/a00021_source.html#l00149">algorithm.h:149</a></div></div>
<div class="ttc" id="a00021_html_a11ea0eda9ab27873198e7a5c4be4337d"><div class="ttname"><a href="../../de/d11/a00021.html#a11ea0eda9ab27873198e7a5c4be4337d">logv_t::wr</a></div><div class="ttdeci">Bool wr</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d11/a00021_source.html#l00249">algorithm.h:249</a></div></div>
<div class="ttc" id="a00021_html_a0cec8cae6d70499e62b4251e5843497d"><div class="ttname"><a href="../../de/d11/a00021.html#a0cec8cae6d70499e62b4251e5843497d">EVENT_SV_ALARM</a></div><div class="ttdeci">#define EVENT_SV_ALARM</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d11/a00021_source.html#l00069">algorithm.h:69</a></div></div>
<div class="ttc" id="a00021_html_afb154043998a164232751d1c030e8650"><div class="ttname"><a href="../../de/d11/a00021.html#afb154043998a164232751d1c030e8650">DR_RECHECK_TIME</a></div><div class="ttdeci">#define DR_RECHECK_TIME</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d11/a00021_source.html#l00075">algorithm.h:75</a></div></div>
<div class="ttc" id="a00016_html_a78bbb321092eab3b988cf0c89bf0a572"><div class="ttname"><a href="../../d7/d7a/a00016.html#a78bbb321092eab3b988cf0c89bf0a572">TYPE_IR_MF</a></div><div class="ttdeci">#define TYPE_IR_MF</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d7a/a00016_source.html#l00032">algorithm_prv.h:32</a></div></div>
<div class="ttc" id="a00038_html_a85471d58eae93d5d7e7e2b52e2b915d3"><div class="ttname"><a href="../../d8/d41/a00038.html#a85471d58eae93d5d7e7e2b52e2b915d3">algorithm_message_arrived_ntf_isr</a></div><div class="ttdeci">void algorithm_message_arrived_ntf_isr(Uint16 id)</div><div class="ttdoc">Causes that system will send notification to the module as this cannot be done directly because the f...</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d41/a00038_source.html#l02104">algorithm.c:2104</a></div></div>
<div class="ttc" id="a00017_html_a86870a0e00601a92277e689447739ce9"><div class="ttname"><a href="../../d4/d51/a00017.html#a86870a0e00601a92277e689447739ce9">ir_sen_hif_check</a></div><div class="ttdeci">Uint8 ir_sen_hif_check(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d97/a00045_source.html#l01100">ir_sensor.c:1100</a></div></div>
<div class="ttc" id="a00029_html_a90aef186f45a15d94bf0247122194991"><div class="ttname"><a href="../../d5/d16/a00029.html#a90aef186f45a15d94bf0247122194991">nov_store</a></div><div class="ttdeci">void nov_store(void)</div><div class="ttdoc">Writes NOV storage to EEPROM. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d73/a00060_source.html#l00397">srv_nov.c:397</a></div></div>
<div class="ttc" id="a00021_html_a1eb14cc432874ddacd1934791dbe12a3"><div class="ttname"><a href="../../de/d11/a00021.html#a1eb14cc432874ddacd1934791dbe12a3">HOT</a></div><div class="ttdeci">#define HOT</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d11/a00021_source.html#l00153">algorithm.h:153</a></div></div>
<div class="ttc" id="a00033_html_abc8e0f43382f8b0fdf60d35a93c20c57"><div class="ttname"><a href="../../d0/dc0/a00033.html#abc8e0f43382f8b0fdf60d35a93c20c57">IRQ_ENABLE</a></div><div class="ttdeci">#define IRQ_ENABLE(save_sr)</div><div class="ttdoc">Global IRQ enable. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dc0/a00033_source.html#l00025">main.h:25</a></div></div>
<div class="ttc" id="a00040_html_aa93f0eb578d23995850d61f7d61c55c1"><div class="ttname"><a href="../../db/d3a/a00040.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a></div><div class="ttdeci">#define FALSE</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d3a/a00040_source.html#l00086">allheaders.h:86</a></div></div>
<div class="ttc" id="a00016_html_a88096870f430e03f71e1f390c67f09ce"><div class="ttname"><a href="../../d7/d7a/a00016.html#a88096870f430e03f71e1f390c67f09ce">TYPE_IR_MF_UV</a></div><div class="ttdeci">#define TYPE_IR_MF_UV</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d7a/a00016_source.html#l00033">algorithm_prv.h:33</a></div></div>
<div class="ttc" id="a00017_html_a1c9872e93491d95a24ab0bc723d39a74"><div class="ttname"><a href="../../d4/d51/a00017.html#a1c9872e93491d95a24ab0bc723d39a74">ir_record_reset</a></div><div class="ttdeci">void ir_record_reset(Uint8 type)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d97/a00045_source.html#l01152">ir_sensor.c:1152</a></div></div>
<div class="ttc" id="a00040_html_aa8cecfc5c5c054d2875c03e77b7be15d"><div class="ttname"><a href="../../db/d3a/a00040.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a></div><div class="ttdeci">#define TRUE</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d3a/a00040_source.html#l00084">allheaders.h:84</a></div></div>
<div class="ttc" id="a00072_html_a87d38f886e617ced2698fc55afa07637"><div class="ttname"><a href="../../d6/d2c/a00072.html#a87d38f886e617ced2698fc55afa07637">Float32</a></div><div class="ttdeci">float Float32</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d2c/a00072_source.html#l00045">System.h:45</a></div></div>
<div class="ttc" id="a00017_html_aaa1c1ffe30eff38b979b1af9d4e4ef19"><div class="ttname"><a href="../../d4/d51/a00017.html#aaa1c1ffe30eff38b979b1af9d4e4ef19">HIF</a></div><div class="ttdeci">#define HIF</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d51/a00017_source.html#l00022">ir_sensor.h:22</a></div></div>
<div class="ttc" id="a00021_html_a854b8f967c206a5f3e4aeaf91a782b3e"><div class="ttname"><a href="../../de/d11/a00021.html#a854b8f967c206a5f3e4aeaf91a782b3e">logv_t::sv_delay</a></div><div class="ttdeci">struct logv_t::@6 sv_delay</div></div>
<div class="ttc" id="a00072_html_a253b248072cfc8bd812c69acd0046eed"><div class="ttname"><a href="../../d6/d2c/a00072.html#a253b248072cfc8bd812c69acd0046eed">Bool</a></div><div class="ttdeci">unsigned char Bool</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d2c/a00072_source.html#l00050">System.h:50</a></div></div>
<div class="ttc" id="a00034_html_a742dceaef1f19ec73ed5acc066127476"><div class="ttname"><a href="../../db/df3/a00034.html#a742dceaef1f19ec73ed5acc066127476">srv_hwio_data_t::emulation_mode</a></div><div class="ttdeci">struct srv_hwio_data_t::@2030 emulation_mode</div></div>
<div class="ttc" id="a00058_html_a0af9eae455fbdf4e77def5bfffa109cb"><div class="ttname"><a href="../../d7/df7/a00058.html#a0af9eae455fbdf4e77def5bfffa109cb">hwio_execute_gpio_task</a></div><div class="ttdeci">Int8 hwio_execute_gpio_task(Uint8 cmd)</div><div class="ttdoc">gpio port control helper function </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d2e/a00056_source.html#l00272">srv_hwio.c:272</a></div></div>
<div class="ttc" id="a00021_html_a602c125746b241f3a37e9fd5f43412b0"><div class="ttname"><a href="../../de/d11/a00021.html#a602c125746b241f3a37e9fd5f43412b0">EVENT_CLEARED</a></div><div class="ttdeci">#define EVENT_CLEARED</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d11/a00021_source.html#l00073">algorithm.h:73</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d8/d41/a00038_a42ed16c7ef20e0c0031fe7ba7ae377b3_cgraph.png" border="0" usemap="#d8/d41/a00038_a42ed16c7ef20e0c0031fe7ba7ae377b3_cgraph" alt=""/></div>
<map name="d8/d41/a00038_a42ed16c7ef20e0c0031fe7ba7ae377b3_cgraph" id="d8/d41/a00038_a42ed16c7ef20e0c0031fe7ba7ae377b3_cgraph">
<area shape="rect" id="node2" href="../../d8/d41/a00038.html#a85471d58eae93d5d7e7e2b52e2b915d3" title="Causes that system will send notification to the module as this cannot be done directly because the f..." alt="" coords="165,5,344,47"/><area shape="rect" id="node4" href="../../d7/df7/a00058.html#a0af9eae455fbdf4e77def5bfffa109cb" title="gpio port control helper function " alt="" coords="173,71,337,98"/><area shape="rect" id="node5" href="../../d4/d51/a00017.html#a1c9872e93491d95a24ab0bc723d39a74" title="ir_record_reset" alt="" coords="201,122,309,149"/><area shape="rect" id="node6" href="../../d4/d51/a00017.html#a86870a0e00601a92277e689447739ce9" title="ir_sen_hif_check" alt="" coords="195,173,314,199"/><area shape="rect" id="node7" href="../../d5/d16/a00029.html#a90aef186f45a15d94bf0247122194991" title="Writes NOV storage to EEPROM. " alt="" coords="216,223,293,250"/><area shape="rect" id="node3" href="../../de/d8c/a00036.html#a9953756bc7c83e5f2c36830396136e75" title="OS interrupt notification timer. " alt="" coords="392,13,544,39"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d8/d41/a00038_a42ed16c7ef20e0c0031fe7ba7ae377b3_icgraph.png" border="0" usemap="#d8/d41/a00038_a42ed16c7ef20e0c0031fe7ba7ae377b3_icgraph" alt=""/></div>
<map name="d8/d41/a00038_a42ed16c7ef20e0c0031fe7ba7ae377b3_icgraph" id="d8/d41/a00038_a42ed16c7ef20e0c0031fe7ba7ae377b3_icgraph">
<area shape="rect" id="node2" href="../../dd/d32/a00041.html#a2068c3c2584547dbc1c8b9bca2d55b18" title="Fast timer interrupt to scan sensor element analog values. " alt="" coords="177,5,274,32"/><area shape="rect" id="node3" href="../../d8/d41/a00038.html#a93269cdec3e21934aa9395440a2de605" title="Algorithm module notification function. " alt="" coords="165,56,285,83"/><area shape="rect" id="node4" href="../../d4/dca/a00048.html#a840291bc02cba5474a4cb46a9b9566fe" title="System startup function. " alt="" coords="333,56,384,83"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a126f3d78a95341a19a3e862e57357952"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void msg_to_mem </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>dest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/d2c/a00072.html#af84840501dec18061d18a68c162a8fa2">Uint8</a> *&#160;</td>
          <td class="paramname"><em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/d2c/a00072.html#a59a9f6be4562c327cbfb4f7e8e18f08b">Uint16</a>&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/d2c/a00072.html#af84840501dec18061d18a68c162a8fa2">Uint8</a>&#160;</td>
          <td class="paramname"><em>base</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>copy serially received data to given memory address </p>

<p>Definition at line <a class="el" href="../../d8/d41/a00038_source.html#l00950">950</a> of file <a class="el" href="../../d8/d41/a00038_source.html">algorithm.c</a>.</p>

<p>References <a class="el" href="../../d5/d79/a00030_source.html#l00381">serial_make16()</a>, and <a class="el" href="../../d5/d79/a00030_source.html#l00367">serial_make8()</a>.</p>
<div class="fragment"><div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;                                                             {</div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;</div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160; </div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;        <a class="code" href="../../d6/d2c/a00072.html#a59a9f6be4562c327cbfb4f7e8e18f08b">Uint16</a> cc   = 0;</div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;        <a class="code" href="../../d6/d2c/a00072.html#a59a9f6be4562c327cbfb4f7e8e18f08b">Uint16</a> var  = 0;</div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;        <span class="keywordflow">if</span>(base == 8){</div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;        <a class="code" href="../../d6/d2c/a00072.html#af84840501dec18061d18a68c162a8fa2">Uint8</a>* dst8 = (<a class="code" href="../../d6/d2c/a00072.html#af84840501dec18061d18a68c162a8fa2">Uint8</a>*)dest;</div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;        <span class="keywordflow">for</span> (var = 0; var &lt; size; ++var) {         </div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;            *(dst8+var)= <a class="code" href="../../df/d61/a00031.html#aa76f5237babd71f1484bb2dbc6aa0f8d">serial_make8</a>(msg,cc);</div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;            cc +=2;</div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;        }</div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;        }</div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span>(base == 16){</div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;        <a class="code" href="../../d6/d2c/a00072.html#a59a9f6be4562c327cbfb4f7e8e18f08b">Uint16</a>* dst8 = (<a class="code" href="../../d6/d2c/a00072.html#a59a9f6be4562c327cbfb4f7e8e18f08b">Uint16</a>*)dest;    </div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;            </div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;        <span class="keywordflow">for</span> (var = 0; var &lt; size; ++var) {         </div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;            *(dst8+var)= <a class="code" href="../../df/d61/a00031.html#abc17de32f14103a5be219df0d4ad9176">serial_make16</a>(msg,cc);</div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;            cc +=4;</div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;        }</div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;        }</div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;</div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;}</div>
<div class="ttc" id="a00072_html_a59a9f6be4562c327cbfb4f7e8e18f08b"><div class="ttname"><a href="../../d6/d2c/a00072.html#a59a9f6be4562c327cbfb4f7e8e18f08b">Uint16</a></div><div class="ttdeci">unsigned int Uint16</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d2c/a00072_source.html#l00041">System.h:41</a></div></div>
<div class="ttc" id="a00031_html_abc17de32f14103a5be219df0d4ad9176"><div class="ttname"><a href="../../df/d61/a00031.html#abc17de32f14103a5be219df0d4ad9176">serial_make16</a></div><div class="ttdeci">Uint16 serial_make16(Uint8 *buf, Uint16 idx)</div><div class="ttdoc">Function converting characters to 16 bit value. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d79/a00030_source.html#l00381">srv_serial.c:381</a></div></div>
<div class="ttc" id="a00031_html_aa76f5237babd71f1484bb2dbc6aa0f8d"><div class="ttname"><a href="../../df/d61/a00031.html#aa76f5237babd71f1484bb2dbc6aa0f8d">serial_make8</a></div><div class="ttdeci">Uint8 serial_make8(Uint8 *buf, Uint16 idx)</div><div class="ttdoc">Function converting characters to 8 bit value. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d79/a00030_source.html#l00367">srv_serial.c:367</a></div></div>
<div class="ttc" id="a00072_html_af84840501dec18061d18a68c162a8fa2"><div class="ttname"><a href="../../d6/d2c/a00072.html#af84840501dec18061d18a68c162a8fa2">Uint8</a></div><div class="ttdeci">unsigned char Uint8</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d2c/a00072_source.html#l00040">System.h:40</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d8/d41/a00038_a126f3d78a95341a19a3e862e57357952_cgraph.png" border="0" usemap="#d8/d41/a00038_a126f3d78a95341a19a3e862e57357952_cgraph" alt=""/></div>
<map name="d8/d41/a00038_a126f3d78a95341a19a3e862e57357952_cgraph" id="d8/d41/a00038_a126f3d78a95341a19a3e862e57357952_cgraph">
<area shape="rect" id="node2" href="../../df/d61/a00031.html#abc17de32f14103a5be219df0d4ad9176" title="Function converting characters to 16 bit value. " alt="" coords="155,5,261,32"/><area shape="rect" id="node3" href="../../df/d61/a00031.html#aa76f5237babd71f1484bb2dbc6aa0f8d" title="Function converting characters to 8 bit value. " alt="" coords="159,56,257,83"/></map>
</div>
</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="a183caa40cd01e79ee309cc9c4a225197"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d7/d7a/a00016.html#d1/d84/a00097">algorithm_data_t</a> algorithm_data</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d8/d41/a00038_source.html#l00033">33</a> of file <a class="el" href="../../d8/d41/a00038_source.html">algorithm.c</a>.</p>

<p>Referenced by <a class="el" href="../../dd/d32/a00041_source.html#l00025">__attribute__()</a>, and <a class="el" href="../../d9/d73/a00060_source.html#l00760">nov_set_default()</a>.</p>

</div>
</div>
<a class="anchor" id="aff3e3d622fcd96787628167d3c1856f9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../de/d8c/a00036.html#ad5c3c5fbfd3e4aadf22830395484a71d">x_task_id</a> algorithm_id</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>ALgorithm module handle. </p>

<p>Definition at line <a class="el" href="../../d8/d41/a00038_source.html#l00034">34</a> of file <a class="el" href="../../d8/d41/a00038_source.html">algorithm.c</a>.</p>

<p>Referenced by <a class="el" href="../../d8/d41/a00038_source.html#l02104">algorithm_message_arrived_ntf_isr()</a>, and <a class="el" href="../../d4/dca/a00048_source.html#l00080">main()</a>.</p>

</div>
</div>
<a class="anchor" id="a2e89c46668b39a17753c238950c9e1ec"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../de/d11/a00021.html#d6/da3/a00589">logv_t</a> logv</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d8/d41/a00038_source.html#l00036">36</a> of file <a class="el" href="../../d8/d41/a00038_source.html">algorithm.c</a>.</p>

<p>Referenced by <a class="el" href="../../dd/d32/a00041_source.html#l00025">__attribute__()</a>, <a class="el" href="../../d6/d97/a00045_source.html#l00302">ir_sen_get_status()</a>, <a class="el" href="../../d6/d2d/a00047_source.html#l00204">light_sen_get_status()</a>, <a class="el" href="../../d5/de0/a00050_source.html#l00276">mfield_x_sen_get_status()</a>, and <a class="el" href="../../d1/d6e/a00073_source.html#l00302">uv_sen_get_status()</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dir_aab995522a6127270a157701ef8d4429.html">THESIS_PROJECT</a></li><li class="navelem"><a class="el" href="../../dir_b015b89afc3652092ee1758f2519462b.html">AQ0X_FW</a></li><li class="navelem"><a class="el" href="../../dir_e48e0cfedc86469404adebc8f28a8b4e.html">modules</a></li><li class="navelem"><a class="el" href="../../dir_18ba36766bbe9a629f07397f38226b98.html">aq0X</a></li><li class="navelem"><a class="el" href="../../d8/d41/a00038.html">algorithm.c</a></li>
    <li class="footer">Generated on Wed Oct 29 2014 20:13:30 for AQ0X by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.8 </li>
  </ul>
</div>
</body>
</html>
