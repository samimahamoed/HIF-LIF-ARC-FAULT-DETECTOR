\hypertarget{a00025}{\section{mfield\+\_\+x\+\_\+sensor\+\_\+prv.\+h File Reference}
\label{a00025}\index{mfield\+\_\+x\+\_\+sensor\+\_\+prv.\+h@{mfield\+\_\+x\+\_\+sensor\+\_\+prv.\+h}}
}
This graph shows which files directly or indirectly include this file\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=288pt]{d3/dcd/a00965}
\end{center}
\end{figure}
\subsection*{Data Structures}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{a00025_d8/de9/a00595}{mfield\+\_\+x\+\_\+sen\+\_\+data\+\_\+t}
\end{DoxyCompactItemize}
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{a00025_a510020575747f82c587c5485b8619f78}{X\+\_\+\+M\+S\+G\+\_\+\+M\+F\+I\+E\+L\+D\+\_\+\+S\+E\+N\+S\+O\+R\+\_\+\+S\+V}~(\hyperlink{a00036_a082eb6e82ded25b00f04da4f611c961e}{X\+\_\+\+M\+S\+G\+\_\+\+F\+R\+E\+E} + 3)
\begin{DoxyCompactList}\small\item\em Internal event message, initiates periodic supervision. \end{DoxyCompactList}\item 
\#define \hyperlink{a00025_ad9eede821e7c65d58f1806af4bd6bf29}{X\+\_\+\+N\+T\+F\+\_\+\+M\+F\+I\+E\+L\+D\+\_\+\+S\+E\+N\+S\+O\+R\+\_\+\+S\+V\+\_\+\+T\+I\+M\+E\+R}~(\hyperlink{a00036_ab2eeea4643823a0c7c7731ddb83e3edc}{X\+\_\+\+N\+T\+F\+\_\+\+F\+R\+E\+E} + 15)
\begin{DoxyCompactList}\small\item\em Internal supervison timer. \end{DoxyCompactList}\item 
\#define \hyperlink{a00025_a8a535456285f4602701c814d7b69cc68}{S\+V\+\_\+\+T\+I\+M\+E\+R\+\_\+\+P\+E\+R\+I\+O\+D}~1000
\begin{DoxyCompactList}\small\item\em Timeout. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{a00072_a87d38f886e617ced2698fc55afa07637}{Float32} \hyperlink{a00025_a3107eb45e1fcd2dcdfc54498c528a6a5}{mfield\+\_\+x\+\_\+sen\+\_\+first\+\_\+order\+\_\+derivative} (\hyperlink{a00072_a659ce9e5eb6571f9984ffc7caad2660a}{Int16} final\+\_\+val, \hyperlink{a00072_a659ce9e5eb6571f9984ffc7caad2660a}{Int16} init\+\_\+val)
\begin{DoxyCompactList}\small\item\em Claculate first order derivative. \end{DoxyCompactList}\item 
\hyperlink{a00072_a87d38f886e617ced2698fc55afa07637}{Float32} \hyperlink{a00025_a51b6db21b0a9cbb8255cc4cfda81fad8}{mfield\+\_\+x\+\_\+sen\+\_\+calc\+\_\+probablity} (\hyperlink{a00072_a59a9f6be4562c327cbfb4f7e8e18f08b}{Uint16} event, \hyperlink{a00072_a59a9f6be4562c327cbfb4f7e8e18f08b}{Uint16} obs)
\begin{DoxyCompactList}\small\item\em Claculates the event probablity. \end{DoxyCompactList}\item 
\hyperlink{a00072_a7e31ca7716b8d85dd473450a5c5e5a97}{Int8} \hyperlink{a00025_a44dbd44e6cfef004d281e632f3e3070d}{mfield\+\_\+x\+\_\+compare} (\hyperlink{a00072_a87d38f886e617ced2698fc55afa07637}{Float32} num, \hyperlink{a00072_a87d38f886e617ced2698fc55afa07637}{Float32} given\+\_\+num, \hyperlink{a00072_a87d38f886e617ced2698fc55afa07637}{Float32} tolerance)
\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\hyperlink{a00025_d8/de9/a00595}{mfield\+\_\+x\+\_\+sen\+\_\+data\+\_\+t} \hyperlink{a00025_af8c531b1ba5fea148fb9111e06058f92}{mfield\+\_\+x\+\_\+sen\+\_\+data}
\begin{DoxyCompactList}\small\item\em Internal mfield\+\_\+x\+\_\+sen module data. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Data Structure Documentation}
\index{mfield\+\_\+x\+\_\+sen\+\_\+data\+\_\+t@{mfield\+\_\+x\+\_\+sen\+\_\+data\+\_\+t}}\label{d8/de9/a00595}
\hypertarget{a00025_d8/de9/a00595}{}
\subsubsection{struct mfield\+\_\+x\+\_\+sen\+\_\+data\+\_\+t}


Definition at line \hyperlink{a00025_source_l00023}{23} of file \hyperlink{a00025_source}{mfield\+\_\+x\+\_\+sensor\+\_\+prv.\+h}.



Collaboration diagram for mfield\+\_\+x\+\_\+sen\+\_\+data\+\_\+t\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d2/d6e/a00966}
\end{center}
\end{figure}
\begin{DoxyFields}{Data Fields}
\hypertarget{a00025_a94b2d1f6ea4ab334c74d24984dd27843}{\hyperlink{a00021_d6/d9c/a00352}{configured\+\_\+t}}\label{a00025_a94b2d1f6ea4ab334c74d24984dd27843}
&
configured&
stores user configuration details \\
\hline

\hypertarget{a00025_a2bd79ce84bbd6b7f50d38954f7ae475e}{\hyperlink{a00019_d9/dc1/a00388}{diagonesis\+\_\+records\+\_\+mfield\+\_\+t}}\label{a00025_a2bd79ce84bbd6b7f50d38954f7ae475e}
&
diagonesis\+\_\+records&
holds diagonesis data on the module operation \\
\hline

\hypertarget{a00025_ac9b38e2c1d3f1013a88d33506c754152}{\hyperlink{a00028}{module\+\_\+disturbance\+\_\+record\+\_\+t} $\ast$}\label{a00025_ac9b38e2c1d3f1013a88d33506c754152}
&
disturbance\+\_\+record&
disturbance record storage , details starting form the first event detection to the duration of observation record length \\
\hline

\hypertarget{a00025_adfab5a5d8b45a93dfb13edb24e2b80e3}{\hyperlink{a00019_d6/db2/a00601}{module\+\_\+status\+\_\+mfield\+\_\+t}}\label{a00025_adfab5a5d8b45a93dfb13edb24e2b80e3}
&
module\+\_\+status&
holds details about the module current state \\
\hline

\hypertarget{a00025_aaeec6b0609dba31393f337abf1cce3d3}{\hyperlink{a00022_d2/d5a/a00792}{sv\+\_\+error\+\_\+flags\+\_\+ut}}\label{a00025_aaeec6b0609dba31393f337abf1cce3d3}
&
sv\+\_\+errors\+\_\+flags&
supervission error flags \\
\hline

\hypertarget{a00025_a752b00333ec308e07c6bd41aa9a01e73}{\hyperlink{a00019_dc/d41/a00862}{x\+\_\+notify\+\_\+mfield\+\_\+sen\+\_\+sv\+\_\+report}}\label{a00025_a752b00333ec308e07c6bd41aa9a01e73}
&
sv\+\_\+status\+\_\+ntf&
\\
\hline

\hypertarget{a00025_a43c345f39ea3aefbb60ef1ef57fe5d83}{\hyperlink{a00036_de/d37/a00849}{x\+\_\+event}}\label{a00025_a43c345f39ea3aefbb60ef1ef57fe5d83}
&
sv\+\_\+task\+\_\+event&
Internal event for processing mfield module suppervission task. \\
\hline

\hypertarget{a00025_ada91b200053f2d93e3639dc4ee3415b4}{\hyperlink{a00036_df/d4c/a00851}{x\+\_\+notify}}\label{a00025_ada91b200053f2d93e3639dc4ee3415b4}
&
sv\+\_\+timer\+\_\+ntf&
Timer notification to initiate mfield module suppervission task. \\
\hline

\end{DoxyFields}


\subsection{Macro Definition Documentation}
\hypertarget{a00025_a8a535456285f4602701c814d7b69cc68}{\index{mfield\+\_\+x\+\_\+sensor\+\_\+prv.\+h@{mfield\+\_\+x\+\_\+sensor\+\_\+prv.\+h}!S\+V\+\_\+\+T\+I\+M\+E\+R\+\_\+\+P\+E\+R\+I\+O\+D@{S\+V\+\_\+\+T\+I\+M\+E\+R\+\_\+\+P\+E\+R\+I\+O\+D}}
\index{S\+V\+\_\+\+T\+I\+M\+E\+R\+\_\+\+P\+E\+R\+I\+O\+D@{S\+V\+\_\+\+T\+I\+M\+E\+R\+\_\+\+P\+E\+R\+I\+O\+D}!mfield\+\_\+x\+\_\+sensor\+\_\+prv.\+h@{mfield\+\_\+x\+\_\+sensor\+\_\+prv.\+h}}
\subsubsection[{S\+V\+\_\+\+T\+I\+M\+E\+R\+\_\+\+P\+E\+R\+I\+O\+D}]{\setlength{\rightskip}{0pt plus 5cm}\#define S\+V\+\_\+\+T\+I\+M\+E\+R\+\_\+\+P\+E\+R\+I\+O\+D~1000}}\label{a00025_a8a535456285f4602701c814d7b69cc68}


Timeout. 



Definition at line \hyperlink{a00025_source_l00019}{19} of file \hyperlink{a00025_source}{mfield\+\_\+x\+\_\+sensor\+\_\+prv.\+h}.

\hypertarget{a00025_a510020575747f82c587c5485b8619f78}{\index{mfield\+\_\+x\+\_\+sensor\+\_\+prv.\+h@{mfield\+\_\+x\+\_\+sensor\+\_\+prv.\+h}!X\+\_\+\+M\+S\+G\+\_\+\+M\+F\+I\+E\+L\+D\+\_\+\+S\+E\+N\+S\+O\+R\+\_\+\+S\+V@{X\+\_\+\+M\+S\+G\+\_\+\+M\+F\+I\+E\+L\+D\+\_\+\+S\+E\+N\+S\+O\+R\+\_\+\+S\+V}}
\index{X\+\_\+\+M\+S\+G\+\_\+\+M\+F\+I\+E\+L\+D\+\_\+\+S\+E\+N\+S\+O\+R\+\_\+\+S\+V@{X\+\_\+\+M\+S\+G\+\_\+\+M\+F\+I\+E\+L\+D\+\_\+\+S\+E\+N\+S\+O\+R\+\_\+\+S\+V}!mfield\+\_\+x\+\_\+sensor\+\_\+prv.\+h@{mfield\+\_\+x\+\_\+sensor\+\_\+prv.\+h}}
\subsubsection[{X\+\_\+\+M\+S\+G\+\_\+\+M\+F\+I\+E\+L\+D\+\_\+\+S\+E\+N\+S\+O\+R\+\_\+\+S\+V}]{\setlength{\rightskip}{0pt plus 5cm}\#define X\+\_\+\+M\+S\+G\+\_\+\+M\+F\+I\+E\+L\+D\+\_\+\+S\+E\+N\+S\+O\+R\+\_\+\+S\+V~({\bf X\+\_\+\+M\+S\+G\+\_\+\+F\+R\+E\+E} + 3)}}\label{a00025_a510020575747f82c587c5485b8619f78}


Internal event message, initiates periodic supervision. 



Definition at line \hyperlink{a00025_source_l00012}{12} of file \hyperlink{a00025_source}{mfield\+\_\+x\+\_\+sensor\+\_\+prv.\+h}.



Referenced by \hyperlink{a00050_source_l00071}{mfield\+\_\+x\+\_\+sen\+\_\+taskx()}, and \hyperlink{a00053_source_l00073}{mfield\+\_\+z\+\_\+sen\+\_\+taskx()}.

\hypertarget{a00025_ad9eede821e7c65d58f1806af4bd6bf29}{\index{mfield\+\_\+x\+\_\+sensor\+\_\+prv.\+h@{mfield\+\_\+x\+\_\+sensor\+\_\+prv.\+h}!X\+\_\+\+N\+T\+F\+\_\+\+M\+F\+I\+E\+L\+D\+\_\+\+S\+E\+N\+S\+O\+R\+\_\+\+S\+V\+\_\+\+T\+I\+M\+E\+R@{X\+\_\+\+N\+T\+F\+\_\+\+M\+F\+I\+E\+L\+D\+\_\+\+S\+E\+N\+S\+O\+R\+\_\+\+S\+V\+\_\+\+T\+I\+M\+E\+R}}
\index{X\+\_\+\+N\+T\+F\+\_\+\+M\+F\+I\+E\+L\+D\+\_\+\+S\+E\+N\+S\+O\+R\+\_\+\+S\+V\+\_\+\+T\+I\+M\+E\+R@{X\+\_\+\+N\+T\+F\+\_\+\+M\+F\+I\+E\+L\+D\+\_\+\+S\+E\+N\+S\+O\+R\+\_\+\+S\+V\+\_\+\+T\+I\+M\+E\+R}!mfield\+\_\+x\+\_\+sensor\+\_\+prv.\+h@{mfield\+\_\+x\+\_\+sensor\+\_\+prv.\+h}}
\subsubsection[{X\+\_\+\+N\+T\+F\+\_\+\+M\+F\+I\+E\+L\+D\+\_\+\+S\+E\+N\+S\+O\+R\+\_\+\+S\+V\+\_\+\+T\+I\+M\+E\+R}]{\setlength{\rightskip}{0pt plus 5cm}\#define X\+\_\+\+N\+T\+F\+\_\+\+M\+F\+I\+E\+L\+D\+\_\+\+S\+E\+N\+S\+O\+R\+\_\+\+S\+V\+\_\+\+T\+I\+M\+E\+R~({\bf X\+\_\+\+N\+T\+F\+\_\+\+F\+R\+E\+E} + 15)}}\label{a00025_ad9eede821e7c65d58f1806af4bd6bf29}


Internal supervison timer. 



Definition at line \hyperlink{a00025_source_l00015}{15} of file \hyperlink{a00025_source}{mfield\+\_\+x\+\_\+sensor\+\_\+prv.\+h}.



Referenced by \hyperlink{a00050_source_l00107}{mfield\+\_\+x\+\_\+sen\+\_\+notifyx()}, and \hyperlink{a00053_source_l00114}{mfield\+\_\+z\+\_\+sen\+\_\+notifyx()}.



\subsection{Function Documentation}
\hypertarget{a00025_a44dbd44e6cfef004d281e632f3e3070d}{\index{mfield\+\_\+x\+\_\+sensor\+\_\+prv.\+h@{mfield\+\_\+x\+\_\+sensor\+\_\+prv.\+h}!mfield\+\_\+x\+\_\+compare@{mfield\+\_\+x\+\_\+compare}}
\index{mfield\+\_\+x\+\_\+compare@{mfield\+\_\+x\+\_\+compare}!mfield\+\_\+x\+\_\+sensor\+\_\+prv.\+h@{mfield\+\_\+x\+\_\+sensor\+\_\+prv.\+h}}
\subsubsection[{mfield\+\_\+x\+\_\+compare}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Int8} mfield\+\_\+x\+\_\+compare (
\begin{DoxyParamCaption}
\item[{{\bf Float32}}]{num1, }
\item[{{\bf Float32}}]{num2, }
\item[{{\bf Float32}}]{tolerance}
\end{DoxyParamCaption}
)}}\label{a00025_a44dbd44e6cfef004d281e632f3e3070d}

\begin{DoxyParams}{Parameters}
{\em } & \\
\hline
\end{DoxyParams}


Definition at line \hyperlink{a00050_source_l00221}{221} of file \hyperlink{a00050_source}{mfield\+\_\+x\+\_\+sensor.\+c}.



References \hyperlink{a00021_source_l00023}{\+\_\+\+\_\+\+C\+O\+M\+P\+A\+R\+E}.



Referenced by \hyperlink{a00052_source_l00293}{mfield\+\_\+x\+\_\+sen\+\_\+get\+\_\+status()}, and \hyperlink{a00052_source_l00984}{mfield\+\_\+x\+\_\+sen\+\_\+hif\+\_\+check()}.


\begin{DoxyCode}
00221                                                                     \{
00222 
00223      \textcolor{keywordflow}{return} \hyperlink{a00021_a1aaf79017d1250538fff385827b7401e}{\_\_COMPARE}((num1 - num2),tolerance);
00224    \hyperlink{a00072_a87d38f886e617ced2698fc55afa07637}{Float32} difference = num1 - num2;
00225 
00226    \textcolor{keywordflow}{if}(abs(difference) <= tolerance)
00227     \textcolor{keywordflow}{return}  0;
00228 
00229    \textcolor{keywordflow}{if}(difference > 0\textcolor{comment}{/*num1 > num2*/})
00230     \textcolor{keywordflow}{return} 1;
00231 
00232    \textcolor{keywordflow}{if}(difference < 0\textcolor{comment}{/*num1 < num2*/})
00233     \textcolor{keywordflow}{return} -1;
00234 
00235    \textcolor{keywordflow}{return} -2;
00236 \}
\end{DoxyCode}


Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d3/dfe/a00025_a44dbd44e6cfef004d281e632f3e3070d_icgraph}
\end{center}
\end{figure}


\hypertarget{a00025_a51b6db21b0a9cbb8255cc4cfda81fad8}{\index{mfield\+\_\+x\+\_\+sensor\+\_\+prv.\+h@{mfield\+\_\+x\+\_\+sensor\+\_\+prv.\+h}!mfield\+\_\+x\+\_\+sen\+\_\+calc\+\_\+probablity@{mfield\+\_\+x\+\_\+sen\+\_\+calc\+\_\+probablity}}
\index{mfield\+\_\+x\+\_\+sen\+\_\+calc\+\_\+probablity@{mfield\+\_\+x\+\_\+sen\+\_\+calc\+\_\+probablity}!mfield\+\_\+x\+\_\+sensor\+\_\+prv.\+h@{mfield\+\_\+x\+\_\+sensor\+\_\+prv.\+h}}
\subsubsection[{mfield\+\_\+x\+\_\+sen\+\_\+calc\+\_\+probablity}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Float32} mfield\+\_\+x\+\_\+sen\+\_\+calc\+\_\+probablity (
\begin{DoxyParamCaption}
\item[{{\bf Uint16}}]{event, }
\item[{{\bf Uint16}}]{obs}
\end{DoxyParamCaption}
)}}\label{a00025_a51b6db21b0a9cbb8255cc4cfda81fad8}


Claculates the event probablity. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em event,positive} & event count value \\
\hline
\mbox{\tt in}  & {\em obs,total} & number of observation \\
\hline
\end{DoxyParams}


Definition at line \hyperlink{a00050_source_l00191}{191} of file \hyperlink{a00050_source}{mfield\+\_\+x\+\_\+sensor.\+c}.


\begin{DoxyCode}
00191                                                              \{
00192 
00193     \textcolor{keywordflow}{return} (100L*((\hyperlink{a00072_a87d38f886e617ced2698fc55afa07637}{Float32})event/(\hyperlink{a00072_a87d38f886e617ced2698fc55afa07637}{Float32})obs));
00194 \}
\end{DoxyCode}
\hypertarget{a00025_a3107eb45e1fcd2dcdfc54498c528a6a5}{\index{mfield\+\_\+x\+\_\+sensor\+\_\+prv.\+h@{mfield\+\_\+x\+\_\+sensor\+\_\+prv.\+h}!mfield\+\_\+x\+\_\+sen\+\_\+first\+\_\+order\+\_\+derivative@{mfield\+\_\+x\+\_\+sen\+\_\+first\+\_\+order\+\_\+derivative}}
\index{mfield\+\_\+x\+\_\+sen\+\_\+first\+\_\+order\+\_\+derivative@{mfield\+\_\+x\+\_\+sen\+\_\+first\+\_\+order\+\_\+derivative}!mfield\+\_\+x\+\_\+sensor\+\_\+prv.\+h@{mfield\+\_\+x\+\_\+sensor\+\_\+prv.\+h}}
\subsubsection[{mfield\+\_\+x\+\_\+sen\+\_\+first\+\_\+order\+\_\+derivative}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Float32} mfield\+\_\+x\+\_\+sen\+\_\+first\+\_\+order\+\_\+derivative (
\begin{DoxyParamCaption}
\item[{{\bf Int16}}]{final\+\_\+val, }
\item[{{\bf Int16}}]{init\+\_\+val}
\end{DoxyParamCaption}
)}}\label{a00025_a3107eb45e1fcd2dcdfc54498c528a6a5}


Claculate first order derivative. 


\begin{DoxyParams}{Parameters}
{\em ad\+\_\+value} & \\
\hline
\end{DoxyParams}


Definition at line \hyperlink{a00050_source_l00178}{178} of file \hyperlink{a00050_source}{mfield\+\_\+x\+\_\+sensor.\+c}.


\begin{DoxyCode}
00178                                                                            \{
00179      \textcolor{keywordflow}{return} ((\hyperlink{a00072_a87d38f886e617ced2698fc55afa07637}{Float32})final\_val-(\hyperlink{a00072_a87d38f886e617ced2698fc55afa07637}{Float32})init\_val);
00180 \}
\end{DoxyCode}


\subsection{Variable Documentation}
\hypertarget{a00025_af8c531b1ba5fea148fb9111e06058f92}{\index{mfield\+\_\+x\+\_\+sensor\+\_\+prv.\+h@{mfield\+\_\+x\+\_\+sensor\+\_\+prv.\+h}!mfield\+\_\+x\+\_\+sen\+\_\+data@{mfield\+\_\+x\+\_\+sen\+\_\+data}}
\index{mfield\+\_\+x\+\_\+sen\+\_\+data@{mfield\+\_\+x\+\_\+sen\+\_\+data}!mfield\+\_\+x\+\_\+sensor\+\_\+prv.\+h@{mfield\+\_\+x\+\_\+sensor\+\_\+prv.\+h}}
\subsubsection[{mfield\+\_\+x\+\_\+sen\+\_\+data}]{\setlength{\rightskip}{0pt plus 5cm}{\bf mfield\+\_\+x\+\_\+sen\+\_\+data\+\_\+t} mfield\+\_\+x\+\_\+sen\+\_\+data}}\label{a00025_af8c531b1ba5fea148fb9111e06058f92}


Internal mfield\+\_\+x\+\_\+sen module data. 



Definition at line \hyperlink{a00050_source_l00023}{23} of file \hyperlink{a00050_source}{mfield\+\_\+x\+\_\+sensor.\+c}.

